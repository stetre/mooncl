<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Stefano Trettel">
<title>MoonCL Reference Manual</title>
<style>
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.4; color: #003b6b; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #00579e; text-decoration: none; line-height: inherit; }
a:hover, a:focus { color: #333333; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: Arial, sans-serif; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Arial, sans-serif; font-weight: normal; font-style: normal; color: #7b2d00; text-rendering: optimizeLegibility; margin-top: 0.5em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #ff6b15; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: bold; color: #003426; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 0.75em; list-style-position: outside; font-family: Arial, sans-serif; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3em; font-weight: bold; }
dl dd { margin-bottom: 0.75em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: black; border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 0.75em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #e15200; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #e15200; }

blockquote, blockquote p { line-height: 1.6; color: #333333; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px #d8d8ce; }
table thead, table tfoot { background: -webkit-linear-gradient(top, #add386, #90b66a); font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: white; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #6d6e71; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #edf2f2; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }

a:hover, a:focus { text-decoration: underline; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: inherit; font-style: normal !important; letter-spacing: 0; padding: 3px 2px 1px 2px; background-color: #eeeeee; border: 1px solid #dddddd; -webkit-border-radius: 0; border-radius: 0; line-height: inherit; }

pre, pre > code { line-height: 1.6; color: black; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }

.keyseq { color: #333333; }

kbd { display: inline-block; color: black; font-size: 0.75em; line-height: 1.4; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: black; }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 1.5em; padding-right: 1.5em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: #7b2d00; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid #dddddd; }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid #dddddd; padding-bottom: 8px; }
#header .details { border-bottom: 1px solid #dddddd; line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #e15200; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #333333; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #333333; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: #7b2d00; border-bottom: 1px solid #dddddd; padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0 solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: Arial, sans-serif; list-style-type: none; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #003b6b; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: white; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: none; padding: 1.25em; }

#footer-text { color: black; line-height: 1.44; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 0 solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #7b2d00; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #622400; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: #7b2d00; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: Arial, sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #e15200; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 0; border-radius: 0; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #003b6b; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: #eeeeee; }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px dashed #666666; -webkit-border-radius: 0; border-radius: 0; word-wrap: break-word; padding: 1.25em 1.5625em 1.125em 1.5625em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: #eeeeee; background-color: black; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1.25em 1.5625em 1.125em 1.5625em; -webkit-border-radius: 0; border-radius: 0; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 0.75em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #333333; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #003b6b; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #e15200; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 0.75em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #333333; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.05em; color: #e15200; }

.quoteblock.abstract { margin: 0 0 0.75em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.spread { width: 100%; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid #d8d8ce; }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.4; background: -webkit-linear-gradient(top, #add386, #90b66a); }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: white; font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.375em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1em; font-size: 0.85em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { width: 1em; position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.375em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1 { padding-right: .75em; font-weight: bold; }

td.hdlist1, td.hdlist2 { vertical-align: top; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; }

span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
span.footnote a:active, span.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #004176; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: black; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { border-bottom: 1px solid #dddddd; }

.sect1 { padding-bottom: 0; }

#toctitle { color: #00406F; font-weight: normal; margin-top: 1.5em; }

.sidebarblock { border-color: #aaa; }

code { -webkit-border-radius: 4px; border-radius: 4px; }

p.tableblock.header { color: #6d6e71; }

.literalblock pre, .listingblock pre { background: #eeeeee; }

</style>
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #ffffff; }
.listingblock .pygments .tok-c { color: #aaaaaa; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { color: #FF0000; background-color: #FFAAAA } /* Error */
.listingblock .pygments .tok-k { color: #0000aa } /* Keyword */
.listingblock .pygments .tok-ch { color: #aaaaaa; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #aaaaaa; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #4c8317 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #aaaaaa; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #aaaaaa; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #0000aa; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #aa0000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #aa0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00aa00 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #555555 } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #aa0000 } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #0000aa } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #0000aa } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #0000aa } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #0000aa } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #0000aa } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #00aaaa } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #009999 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #aa5500 } /* Literal.String */
.listingblock .pygments .tok-na { color: #1e90ff } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #00aaaa } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #00aa00; text-decoration: underline } /* Name.Class */
.listingblock .pygments .tok-no { color: #aa0000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #888888 } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #880000; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-nf { color: #00aa00 } /* Name.Function */
.listingblock .pygments .tok-nn { color: #00aaaa; text-decoration: underline } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #1e90ff; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #aa0000 } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #0000aa } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #009999 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #009999 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #009999 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #009999 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #009999 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #aa5500 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #aa5500 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #aa5500 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #aa5500 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #aa5500 } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #aa5500 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #aa5500 } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #aa5500 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #aa5500 } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #aa5500 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #009999 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #aa5500 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #0000aa } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #00aaaa } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #00aa00 } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #aa0000 } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #aa0000 } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #aa0000 } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #aa0000 } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #009999 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>MoonCL Reference Manual</h1>
<div class="details">
<span id="author" class="author">Stefano Trettel</span><br>
<span id="revnumber">version 0.1,</span>
<span id="revdate">2017-05-05</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_preface">Preface</a>
<ul class="sectlevel2">
<li><a href="#_getting_and_installing">Getting and installing</a></li>
<li><a href="#_module_organization">Module organization</a></li>
<li><a href="#_examples">Examples</a></li>
<li><a href="#_license">License</a></li>
<li><a href="#see-also">See also</a></li>
</ul>
</li>
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#objects">Objects</a>
<ul class="sectlevel2">
<li><a href="#platform">platform</a></li>
<li><a href="#device">device</a></li>
<li><a href="#context">context</a></li>
<li><a href="#queue">queue</a></li>
<li><a href="#program">program</a></li>
<li><a href="#kernel">kernel</a></li>
<li><a href="#event">event</a></li>
<li><a href="#buffer">buffer</a></li>
<li><a href="#image">image</a></li>
<li><a href="#pipe">pipe</a></li>
<li><a href="#gl_objects">GL objects</a></li>
<li><a href="#svm">svm</a></li>
<li><a href="#sampler">sampler</a></li>
<li><a href="#hostmem">hostmem</a></li>
</ul>
</li>
<li><a href="#commands">Commands</a>
<ul class="sectlevel2">
<li><a href="#_buffer_commands">buffer commands</a></li>
<li><a href="#_image_commands">image commands</a></li>
<li><a href="#_gl_objects_commands">GL objects commands</a></li>
<li><a href="#_svm_commands">svm commands</a></li>
<li><a href="#_kernel_commands">kernel commands</a></li>
<li><a href="#_synchronization">synchronization</a></li>
</ul>
</li>
<li><a href="#structs">Structs</a></li>
<li><a href="#enums">Enums</a></li>
<li><a href="#flags">Flags</a></li>
<li><a href="#miscellanea">Miscellanea</a>
<ul class="sectlevel2">
<li><a href="#versions">Version handling</a></li>
<li><a href="#commonmethods">Common methods</a></li>
<li><a href="#datahandling">Data handling</a></li>
<li><a href="#tracing">Tracing utilities</a></li>
</ul>
</li>
<li><a href="#snippets">Code snippets</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<a class="image" href="http://www.lua.org"><img src="powered-by-lua.gif" alt="Lua logo"></a>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface">Preface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the reference manual of <strong>MoonCL</strong>, which is a
<a href="http://www.lua.org"><strong>Lua</strong></a> binding library for the
<a href="https://www.khronos.org/opencl"><strong>Khronos OpenCL API</strong></a>.
<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></p>
</div>
<div class="paragraph">
<p>It is assumed that the reader is familiar with both OpenCL and the Lua programming language.</p>
</div>
<div class="paragraph">
<p>For convenience of reference, this document contains external (deep) links to the
<a href="http://www.lua.org/manual/5.3/manual.html">Lua Reference Manual</a> and the
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/">OpenCL Reference Pages</a>.</p>
</div>
<div class="sect2">
<h3 id="_getting_and_installing">Getting and installing</h3>
<div class="paragraph">
<p>For installation intructions, refer to the README file in the
<a href="https://github.com/stetre/mooncl"><strong>MoonCL official repository</strong></a>
on GitHub.</p>
</div>
</div>
<div class="sect2">
<h3 id="_module_organization">Module organization</h3>
<div class="paragraph">
<p>The MoonCL module is loaded using Lua&#8217;s
<a href="http://www.lua.org/manual/5.3/manual.html#pdf-require">require</a>() and
returns a table containing the functions it provides
(as usual with Lua modules). This manual assumes that such
table is named <strong>cl</strong>, i.e. that it is loaded with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="lua"> <span class="tok-n">cl</span> <span class="tok-o">=</span> <span class="tok-nb">require</span><span class="tok-p">(</span><span class="tok-s2">&quot;mooncl&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>but nothing forbids the use of a different name.</p>
</div>
</div>
<div class="sect2">
<h3 id="_examples">Examples</h3>
<div class="paragraph">
<p>Complete examples can be found in the <strong>examples/</strong> directory of the release package.</p>
</div>
</div>
<div class="sect2">
<h3 id="_license">License</h3>
<div class="paragraph">
<p>MoonCL is released under the <strong>MIT/X11 license</strong> (same as
<a href="http://www.lua.org/license.html">Lua</a>, and with the same only requirement to give proper
credits to the original author).
The copyright notice is in the LICENSE file in the base directory
of the <a href="https://github.com/stetre/mooncl">official repository</a> on GitHub.</p>
</div>
</div>
<div class="sect2">
<h3 id="see-also">See also</h3>
<div class="paragraph">
<p>MoonCL is part of <a href="https://github.com/stetre/moonlibs">MoonLibs</a>, a collection of
Lua libraries for graphics and audio programming.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MoonCL is an (almost) one-to-one Lua binding library to the OpenCL API.
It provide means to implement the host part of OpenCL applications using Lua instead
of C or C++, with all its pros and cons.</p>
</div>
<div class="paragraph">
<p>This section gives a brief overview, while the details of the bindings are given
in the sections that follow.</p>
</div>
<div class="paragraph">
<p>As a general rule, OpenCL API <strong>functions</strong> are bound to by MoonCL functions whose names
are <a href="https://en.wikipedia.org/wiki/Snake_case">snake_case</a> versions of the original ones
(for example, <em>clGetPlatformIDs</em>(&nbsp;) is bound to by <em>cl.get_platform_ids</em>(&nbsp;)).</p>
</div>
<div class="paragraph">
<p>If not stated otherwise, <strong>on error</strong> all MoonCL functions raise a
<a href="http://www.lua.org/manual/5.3/manual.html#lua_error">Lua error</a>.
If needed, this behaviour can be overridden by wrapping function calls in the standard Lua
<a href="http://www.lua.org/manual/5.3/manual.html#pdf-pcall">pcall</a>(&nbsp;).</p>
</div>
<div class="paragraph">
<p>MoonCL binds OpenCL <strong>objects</strong> (<em>platform</em>, <em>device</em>, etc.) to Lua userdata, which are
returned by the creating or getter functions
(<em>cl.get_platform_ids</em>(&nbsp;), <em>cl.create_context</em>(&nbsp;), etc) and are then used to
refer to objects in Lua in the same way as one would use OpenCL handles in C.</p>
</div>
<div class="paragraph">
<p>In the rest of this manual we will refer to userdata bound to OpenCL objects as to just 'objects',
or as 'MoonCL objects' (vs. 'OpenCL objects') when there is need for disambiguation.</p>
</div>
<div class="paragraph">
<p>Objects are <strong>garbage collected at exit</strong> (which includes on error), and automatically
released at the OpenCL level, so there is no need to explicitly invoke the bindings
to <em>clReleaseXxx</em>(&nbsp;) at exit for cleanup.</p>
</div>
<div class="paragraph">
<p>Apart from at exit, however, objects are not automatically garbage collected
<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</sup>
and one must release them explicitly when needed, e.g. to release resources when the
application is not exiting and some objects are no longer needed.</p>
</div>
<div class="paragraph">
<p>Releasing an object causes the automatic (pre) destruction of all its children
objects, and the invalidation of any reference to the object and to its children.
<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnote_3" title="View footnote.">3</a>]</sup></p>
</div>
<div class="paragraph">
<p>OpenCL <strong>structs</strong> (and lists, and arrays) used to pass parameters and results across the OpenCL API
are mapped in MoonCL to tables, having more or less the same contents as their C counterparts
but again with <a href="https://en.wikipedia.org/wiki/Snake_case">snake_case</a> named fields.
<strong>Enumerations</strong> are mapped to/from sets of string literals, while <strong>flags</strong> bitmasks are represented
as plain integers encoded in the same way as in C.
More details are given in the respective sections of this document
(<a href="#structs">structs</a>, <a href="#enums">enums</a>, <a href="#flags">flags</a>).</p>
</div>
<div class="paragraph">
<p>In addition to the bindings to the OpenCL API, which are described in the sections that follow,
MoonCL also provides a few other utilities and object 'methods' that do not correspond
to OpenCL functions.
These are described mainly in the <a href="#miscellanea">'Miscellanea'</a> subsections.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="objects">Objects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following tree shows the MoonCL (<em>OpenCL</em>) objects and their parent-child relationships.</p>
</div>
<div class="paragraph">
<p><span class="small"><a href="#platform">platform</a> <em>(cl_platform_id)</em><br>
&#9500;&#9472;&#8192;<a href="#device">device</a> <em>(cl_device_id)</em><br>
&#9474;&#8192;&#8192;&#8192;&#9492;&#9472;&#8192;sub <a href="#device">device</a> <em>(cl_device_id)</em><br>
&#9492;&#9472;&#8192;<a href="#context">context</a> <em>(cl_context)</em><br>
&#8192;&#8192;&#8192;&#8192;&#9500;&#9472;&#8192;<a href="#queue">queue</a> <em>(cl_command_queue)</em><br>
&#8192;&#8192;&#8192;&#8192;&#9500;&#9472;&#8192;<a href="#program">program</a> <em>(cl_program)</em><br>
&#8192;&#8192;&#8192;&#8192;&#9474;&#8192;&#8192;&#8192;&#9492;&#9472;&#8192;<a href="#kernel">kernel</a> <em>(cl_kernel)</em><br>
&#8192;&#8192;&#8192;&#8192;&#9500;&#9472;&#8192;<a href="#event">event</a> <em>(cl_event)</em><br>
&#8192;&#8192;&#8192;&#8192;&#9500;&#9472;&#8192;<a href="#buffer">buffer</a> <em>(cl_mem)</em><br>
&#8192;&#8192;&#8192;&#8192;&#9474;&#8192;&#8192;&#8192;&#9492;&#9472;&#8192;sub <a href="#buffer">buffer</a> <em>(cl_mem)</em><br>
&#8192;&#8192;&#8192;&#8192;&#9500;&#9472;&#8192;<a href="#image">image</a> <em>(cl_mem)</em><br>
&#8192;&#8192;&#8192;&#8192;&#9500;&#9472;&#8192;<a href="#pipe">pipe</a> <em>(cl_mem)</em><br>
&#8192;&#8192;&#8192;&#8192;&#9500;&#9472;&#8192;<a href="#sampler">sampler</a> <em>(cl_sampler)</em><br>
&#8192;&#8192;&#8192;&#8192;&#9492;&#9472;&#8192;<a href="#svm">svm</a> <em>(void*)</em><br>
<a href="#hostmem">hostmem</a> (host accessible memory)</span></p>
</div>
<div class="sect2">
<h3 id="platform">platform</h3>
<div id="get_platform_ids" class="ulist">
<ul>
<li>
<p>{<em>platform</em>} = <strong>get_platform_ids</strong>( )<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetPlatformIDs.html">clGetPlatformIDs</a>.</span></p>
</li>
</ul>
</div>
<div id="get_platform_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_platform_info</strong>(<em>platform</em>, <a href="#platforminfo"><em>platforminfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetPlatformInfo.html">clGetPlatformInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="is_extension_supported" class="ulist">
<ul>
<li>
<p><em>boolean</em> = <strong>is_extension_supported</strong>(<em>platform</em>|<em>device</em>, <em>extensionname</em>)<br>
<span class="small"><em>extensionname</em>: string (e.g. '<em>cl_khr_gl_sharing</em>')<br>
Returns <em>true</em> if the given extension is supported by the given <em>platform</em> or <em>device</em>, <em>false</em> otherwise.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/EXTENSION.html">EXTENSION</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="device">device</h3>
<div id="get_device_ids" class="ulist">
<ul>
<li>
<p>{<em>device</em>} = <strong>get_device_ids</strong>(<a href="#platform"><em>platform</em></a>, <a href="#devicetypeflags"><em>devicetypeflags</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetDeviceIDs.html">clGetDeviceIDs</a>.</span></p>
</li>
</ul>
</div>
<div id="create_sub_devices" class="ulist">
<ul>
<li>
<p>{<em>device</em>} = <strong>create_sub_devices</strong>(<em>device</em>, <a href="#devicepartitionproperty"><em>devicepartitionproperty</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateSubDevices.html">clCreateSubDevices</a>.</span></p>
</li>
</ul>
</div>
<div id="retain_device" class="ulist">
<ul>
<li>
<p><strong>retain_device</strong>(<em>device</em>)<br>
<strong>release_device</strong>(<em>device</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clRetainDevice.html">clRetainDevice</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clReleaseDevice.html">clReleaseDevice</a>.</span></p>
</li>
</ul>
</div>
<div id="get_device_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_device_info</strong>(<em>device</em>, <a href="#deviceinfo"><em>deviceinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetDeviceInfo.html">clGetDeviceInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="set_default_device_command_queue" class="ulist">
<ul>
<li>
<p><strong>set_default_device_command_queue</strong>(<a href="#context"><em>context</em></a>, <a href="#device"><em>device</em></a>, <a href="#queue"><em>queue</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clSetDefaultDeviceCommandQueue.html">clSetDefaultDeviceCommandQueue</a>.</span></p>
</li>
</ul>
</div>
<div id="get_device_and_host_timer" class="ulist">
<ul>
<li>
<p><em>device_timestamp</em>, <em>host_timestamp</em> = <strong>get_device_and_host_timer</strong>(<em>device</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetDeviceAndHostTimer.html">clGetDeviceAndHostTimer</a>.</span></p>
</li>
</ul>
</div>
<div id="get_host_timer" class="ulist">
<ul>
<li>
<p><em>host_timestamp</em> = <strong>get_host_timer</strong>(<em>device</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetHostTimer.html">clGetHostTimer</a>.</span></p>
</li>
</ul>
</div>
<div id="check_endianness" class="ulist">
<ul>
<li>
<p><em>boolean</em>, <em>endianness</em> = <strong>check_endianness</strong>(<em>device</em>)<br>
<span class="small">Returns <em>true</em> if <em>device</em> has the same endianness of the host, <em>false</em> otherwise.<br>
The second return value is a string indicating the endianness of the device ('<em>little</em>' or '<em>big</em>').</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="context">context</h3>
<div id="create_context" class="ulist">
<ul>
<li>
<p><em>context</em> = <strong>create_context</strong>(<a href="#platform"><em>platform</em></a>, [{<a href="#device"><em>device</em></a>}], [<a href="#contextproperties"><em>contextproperties</em></a>])<br>
<em>context</em> = <strong>create_context</strong>(<a href="#platform"><em>platform</em></a>,  <a href="#devicetypeflags"><em>devicetypeflags</em></a>, [<a href="#contextproperties"><em>contextproperties</em></a>])<br>
<span class="small">Note: the '<em>platform</em>' field in <a href="#contextproperties"><em>contextproperties</em></a> is ignored by this function (the platform must be passed as standalone parameter).<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateContext.html">clCreateContext</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateContextFromType.html">clCreateContextFromType</a>.</span></p>
</li>
</ul>
</div>
<div id="retain_context" class="ulist">
<ul>
<li>
<p><strong>retain_context</strong>(<em>context</em>)<br>
<strong>release_context</strong>(<em>context</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clRetainContext.html">clRetainContext</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clReleaseContext.html">clReleaseContext</a>.</span></p>
</li>
</ul>
</div>
<div id="get_context_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_context_info</strong>(<em>context</em>, <a href="#contextinfo"><em>contextinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetContextInfo.html">clGetContextInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="terminate_context" class="ulist">
<ul>
<li>
<p><strong>terminate_context</strong>(<em>context</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clTerminateContextKHR.html">clTerminateContextKHR</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="queue">queue</h3>
<div id="create_command_queue" class="ulist">
<ul>
<li>
<p><em>queue</em> = <strong>create_command_queue</strong>(<a href="#context"><em>context</em></a>, <a href="#device"><em>device</em></a>, [<a href="#queueproperties"><em>queueproperties</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateCommandQueueWithProperties.html">clCreateCommandQueueWithProperties</a>.</span></p>
</li>
</ul>
</div>
<div id="retain_command_queue" class="ulist">
<ul>
<li>
<p><strong>retain_command_queue</strong>(<em>queue</em>)<br>
<strong>release_command_queue</strong>(<em>queue</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clRetainCommandQueue.html">clRetainCommandQueue</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clReleaseCommandQueue.html">clReleaseCommandQueue</a>.</span></p>
</li>
</ul>
</div>
<div id="get_command_queue_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_command_queue_info</strong>(<em>queue</em>, <a href="#commandqueueinfo"><em>commandqueueinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetCommandQueueInfo.html">clGetCommandQueueInfo</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="program">program</h3>
<div id="create_program_with_source" class="ulist">
<ul>
<li>
<p><em>program</em> = <strong>create_program_with_source</strong>(<a href="#context"><em>context</em></a>, <em>source</em>)<br>
<em>program</em> = <strong>create_program_with_sourcefile</strong>(<a href="#context"><em>context</em></a>, <em>filename</em>)<br>
<span class="small"><em>source</em>: string containing the program source code,<br>
<em>filename</em>: name of a file containing the program source code.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateProgramWithSource.html">clCreateProgramWithSource</a>.</span></p>
</li>
</ul>
</div>
<div id="build_program" class="ulist">
<ul>
<li>
<p><strong>build_program</strong>(<em>program</em>, [{<a href="#device"><em>device</em></a>}], [<em>options</em>])<br>
<span class="small"><em>options</em>: string.<br>
Raises an error if the underlying call to <em>clBuildProgram(&nbsp;)</em> fails.<br>
If the error is a '<em>build program failure</em>', also collects and prints the logs from all the devices
in the given list.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clBuildProgram.html">clBuildProgram</a>.</span></p>
</li>
</ul>
</div>
<div id="make_program_with_source" class="ulist">
<ul>
<li>
<p><em>program</em> = <strong>make_program_with_source</strong>(<a href="#context"><em>context</em></a>, <em>source</em>, [{<a href="#device"><em>device</em></a>}], [<em>options</em>])<br>
<em>program</em> = <strong>make_program_with_sourcefile</strong>(<a href="#context"><em>context</em></a>, <em>filename</em>, [{<a href="#device"><em>device</em></a>}], [<em>options</em>])<br>
<span class="small">Combined create and build program.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateProgramWithSource.html">clCreateProgramWithSource</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clBuildProgram.html">clBuildProgram</a>.</span></p>
</li>
</ul>
</div>
<div id="retain_program" class="ulist">
<ul>
<li>
<p><strong>retain_program</strong>(<em>program</em>)<br>
<strong>release_program</strong>(<em>program</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clRetainProgram.html">clRetainProgram</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clReleaseProgram.html">clReleaseProgram</a>.</span></p>
</li>
</ul>
</div>
<div id="unload_platform_compiler" class="ulist">
<ul>
<li>
<p><strong>unload_platform_compiler</strong>(<a href="#platform"><em>platform</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clUnloadPlatformCompiler.html">clUnloadPlatformCompiler</a>.</span></p>
</li>
</ul>
</div>
<div id="get_program_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_program_info</strong>(<em>program</em>, <a href="#programinfo"><em>programinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetProgramInfo.html">clGetProgramInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="get_program_build_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_program_build_info</strong>(<em>program</em>, <a href="#device"><em>device</em></a>, <a href="#programbuildinfo"><em>programbuildinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetProgramBuildInfo.html">clGetProgramBuildInfo</a>.</span></p>
</li>
</ul>
</div>
<hr>
<div id="create_program_with_binary" class="ulist">
<ul>
<li>
<p><em>program</em>, {errmsg} = <strong>create_program_with_binary</strong>(<a href="#context"><em>context</em></a>, {<a href="#device"><em>device</em></a>}, {binary})<br>
<span class="small">Returns <em>nil</em> followed by a list of error messages (one per device/binary) if an invalid binary is encountered for any device.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateProgramWithBinary.html">clCreateProgramWithBinary</a>.</span></p>
</li>
</ul>
</div>
<div id="create_program_with_built_in_kernels" class="ulist">
<ul>
<li>
<p><em>program</em> = <strong>create_program_with_built_in_kernels</strong>(<a href="#context"><em>context</em></a>, {<a href="#device"><em>device</em></a>}, {<em>kernelname</em>})<br>
<span class="small"><em>kernelname</em>: string.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateProgramWithBuiltInKernels.html">clCreateProgramWithBuiltInKernels</a>.</span></p>
</li>
</ul>
</div>
<div id="create_program_with_il" class="ulist">
<ul>
<li>
<p><em>program</em> = <strong>create_program_with_il</strong>(<a href="#context"><em>context</em></a>, <em>il</em>)<br>
<span class="small"><em>il</em>: binary string.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateProgramWithIL.html">clCreateProgramWithIL</a>.</span></p>
</li>
</ul>
</div>
<hr>
<div id="build_program_" class="ulist">
<ul>
<li>
<p><em>ok</em>, <em>errmsg</em> = <strong>build_program_</strong>(<em>program</em>, [{<a href="#device"><em>device</em></a>}], [<em>options</em>])<br>
<span class="small"><em>options</em>: string.<br>
Returns <em>false</em> followed by an error message if the underlying call to <em>clBuildProgram(&nbsp;)</em> fails,
otherwise it returns <em>true</em>.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clBuildProgram.html">clBuildProgram</a>.</span></p>
</li>
</ul>
</div>
<div id="compile_program" class="ulist">
<ul>
<li>
<p><em>ok</em>, <em>errmsg</em> = <strong>compile_program_</strong>(<em>program</em>, [{<a href="#device"><em>device</em></a>}], [<em>options</em>], [<em>headers</em>, <em>headernames</em>])<br>
<span class="small"><em>options</em>: string,<br>
<em>headers</em>: {program},<br>
<em>headernames</em>: {string}.<br>
Returns <em>false</em> followed by an error message if the underlying call to <em>clCompileProgram(&nbsp;)</em> fails,
otherwise it returns <em>true</em>.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCompileProgram.html">clCompileProgram</a>.</span></p>
</li>
</ul>
</div>
<div id="link_program" class="ulist">
<ul>
<li>
<p><em>program</em>, <em>errmsg</em> = <strong>link_program_</strong>(<em>program</em>, [{<a href="#device"><em>device</em></a>}], [<em>options</em>], [<em>programs</em>])<br>
<span class="small"><em>options</em>: string,<br>
<em>programs</em>: {program}.<br>
If the underlying call to <em>clLinkProgram(&nbsp;)</em> fails, this function returns <em>nil</em> followed by
an error message.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clLinkProgram.html">clLinkProgram</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="kernel">kernel</h3>
<div id="create_kernel" class="ulist">
<ul>
<li>
<p><em>kernel</em> = <strong>create_kernel</strong>(<a href="#program"><em>program</em></a>, <em>name</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateKernel.html">clCreateKernel</a>.</span></p>
</li>
</ul>
</div>
<div id="create_kernels_in_program" class="ulist">
<ul>
<li>
<p>{<em>kernel</em>} = <strong>create_kernels_in_program</strong>(<a href="#program"><em>program</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateKernelsInProgram.html">clCreateKernelsInProgram</a>.</span></p>
</li>
</ul>
</div>
<div id="clone_kernel" class="ulist">
<ul>
<li>
<p><em>kernel</em> = <strong>clone_kernel</strong>( )<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCloneKernel.html">clCloneKernel</a>.</span></p>
</li>
</ul>
</div>
<div id="retain_kernel" class="ulist">
<ul>
<li>
<p><strong>retain_kernel</strong>(<em>kernel</em>)<br>
<strong>release_kernel</strong>(<em>kernel</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clRetainKernel.html">clRetainKernel</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clReleaseKernel.html">clReleaseKernel</a>.</span></p>
</li>
</ul>
</div>
<div id="set_kernel_arg" class="ulist">
<ul>
<li>
<p><strong>set_kernel_arg</strong>(<em>kernel</em>, <em>argindex</em>, <em>size</em>, [<em>ptr</em>])<br>
<strong>set_kernel_arg</strong>(<em>kernel</em>, <em>argindex</em>, <em>nil</em>, <em>data</em>)<br>
<strong>set_kernel_arg</strong>(<em>kernel</em>, <em>argindex</em>, <a href="#primtype"><em>primtype</em></a>, <em>value</em>)<br>
<strong>set_kernel_arg</strong>(<em>kernel</em>, <em>argindex</em>, <a href="#primtype"><em>primtype</em></a>, <em>value<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>value<sub>N</sub></em>)<br>
<strong>set_kernel_arg</strong>(<em>kernel</em>, <em>argindex</em>, <a href="#primtype"><em>primtype</em></a>, {<em>value<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>value<sub>N</sub></em>})<br>
<strong>set_kernel_arg</strong>(<em>kernel</em>, <em>argindex</em>, <a href="#buffer"><em>buffer</em></a>)<br>
<strong>set_kernel_arg</strong>(<em>kernel</em>, <em>argindex</em>, <a href="#image"><em>image</em></a>)<br>
<strong>set_kernel_arg</strong>(<em>kernel</em>, <em>argindex</em>, <a href="#pipe"><em>pipe</em></a>)<br>
<strong>set_kernel_arg</strong>(<em>kernel</em>, <em>argindex</em>, <a href="#sampler"><em>sampler</em></a>)<br>
<strong>set_kernel_arg</strong>(<em>kernel</em>, <em>argindex</em>, <a href="#queue"><em>queue</em></a>)<br>
<span class="small"><em>argindex</em>: 0-based argument index,<br>
<em>ptr</em> : lightuserdata containing a valid <em>void*</em> to <em>size</em> bytes of data, or <em>nil</em> to allocate <em>size</em> bytes of local memory,<br>
<em>data</em>: binary string,<br>
<em>value</em>, <em>value<sub>i</sub></em>: integer or number (according to <em>primtype</em>).<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clSetKernelArg.html">clSetKernelArg</a>.</span></p>
</li>
</ul>
</div>
<div id="set_kernel_arg_svm_pointer" class="ulist">
<ul>
<li>
<p><strong>set_kernel_arg_svm_pointer</strong>(<em>kernel</em>, <em>argindex</em>, <em>ptr</em>)<br>
<strong>set_kernel_arg_svm_pointer</strong>(<em>kernel</em>, <em>argindex</em>, <a href="#svm"><em>svm</em></a>, <em>offset</em>)<br>
<span class="small"><em>argindex</em>: 0-based argument index.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clSetKernelArgSVMPointer.html">clSetKernelArgSVMPointer</a>.</span></p>
</li>
</ul>
</div>
<div id="set_kernel_exec_info" class="ulist">
<ul>
<li>
<p><strong>set_kernel_exec_info</strong>(<em>kernel</em>, <a href="#kernelexecinfo"><em>kernelexecinfo</em></a>, <em>value</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clSetKernelExecInfo.html">clSetKernelExecInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="get_kernel_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_kernel_info</strong>(<em>kernel</em>, <a href="#kernelinfo"><em>kernelinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetKernelInfo.html">clGetKernelInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="get_kernel_arg_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_kernel_arg_info</strong>(<em>kernel</em>, <em>argindex</em>, <a href="#kernelarginfo"><em>kernelarginfo</em></a>)<br>
<span class="small"><em>argindex</em>: 0-based argument index.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetKernelArgInfo.html">clGetKernelArgInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="get_kernel_work_group_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_kernel_work_group_info</strong>(<em>kernel</em>, <a href="#device"><em>device</em></a>, <a href="#kernelworkgroupinfo"><em>kernelworkgroupinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetKernelWorkGroupInfo.html">clGetKernelWorkGroupInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="get_kernel_sub_group_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_kernel_sub_group_info</strong>(<em>kernel</em>, <a href="#device"><em>device</em></a>, <a href="#kernelsubgroupinfo"><em>kernelsubgroupinfo</em></a>, <em>inputvalue</em>)<br>
<span class="small">The types of the accepted <em>inputvalue</em> and of the returned <em>value</em> depend on the <em>kernelsubgroupinfo</em> parameter.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetKernelSubGroupInfo.html">clGetKernelSubGroupInfo</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="event">event</h3>
<div class="paragraph">
<p>Event objects can be created in two ways:
with the <a href="#create_user_event">create_user_event</a>(&nbsp;) function (<strong>user events</strong>), or
by setting the <em>ge</em> parameter to <em>true</em> when issuing a command with a <a href="#commands">enqueue_xxx</a>(&nbsp;)
call (<strong>command events</strong>).</p>
</div>
<div id="create_user_event" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>create_user_event</strong>(<a href="#context"><em>context</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateUserEvent.html">clCreateUserEvent</a>.</span></p>
</li>
</ul>
</div>
<div id="set_user_event_status" class="ulist">
<ul>
<li>
<p><strong>set_user_event_status</strong>(<em>event</em>, <em>status</em>)<br>
<span class="small"><em>status</em>: '<em>complete</em>' or negative integer error code.<br>
(Note: the default status for <em>event</em> is '<em>submitted</em>', and this function can be called
on <em>event</em> only once.)<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clSetUserEventStatus.html">clSetUserEventStatus</a>.</span></p>
</li>
</ul>
</div>
<div id="retain_event" class="ulist">
<ul>
<li>
<p><strong>retain_event</strong>(<em>event</em>)<br>
<strong>release_event</strong>(<em>event</em>)<br>
<strong>release_events</strong>({<em>event</em>})<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clRetainEvent.html">clRetainEvent</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clReleaseEvent.html">clReleaseEvent</a>.</span></p>
</li>
</ul>
</div>
<div id="get_event_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_event_info</strong>(<em>event</em>, <a href="#eventinfo"><em>eventinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetEventInfo.html">clGetEventInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="get_event_profiling_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_event_profiling_info</strong>(<em>event</em>, <a href="#profilinginfo"><em>profilinginfo</em></a>)<br>
<span class="small">To use this function, the <em>command</em> identified by <em>event</em> must have been enqueued in a
command <a href="#queue"><em>queue</em></a> created with the '<em>profiling enabled</em>' flag set.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetEventProfilingInfo.html">clGetEventProfilingInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="wait_for_events" class="ulist">
<ul>
<li>
<p><strong>wait_for_events</strong>({<em>event</em>})<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clWaitForEvents.html">clWaitForEvents</a>.</span></p>
</li>
</ul>
</div>
<div id="set_event_callback" class="ulist">
<ul>
<li>
<p><strong>set_event_callback</strong>(<em>event</em>, <em>type</em>)<br>
<em>status</em> = <strong>check_event_callback</strong>(<em>event</em>, <em>type</em>)<br>
<span class="small"><em>type</em>: '<em>submitted</em>', '<em>running</em>', or '<em>complete</em>'.<br>
<em>status</em>: boolean | integer (error code).<br>
The <em>set_event_callback(&nbsp;)</em> function registers a C callback that, when called by the OpenCL driver,
just stores the execution status information passed to it. The application can then poll the status
information using the <em>check_event_callback</em>(&nbsp;) function.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clSetEventCallback.html">clSetEventCallback</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="buffer">buffer</h3>
<div id="create_buffer" class="ulist">
<ul>
<li>
<p><em>buffer</em> = <strong>create_buffer</strong>(<a href="#context"><em>context</em></a>, <a href="#memflags"><em>memflags</em></a>, <em>size</em>, [<em>ptr</em>])<br>
<span class="small"><em>ptr</em>: lightuserdata,<br>
If the '<em>use host ptr</em>' or the '<em>copy host ptr</em>' flags are set, then <em>ptr</em> must contain
a valid pointer (<em>void*</em>) to at least <em>size</em> bytes of host memory.<br>
(Such a pointer can be obtained, for example, using a <a href="#hostmem">hostmem</a> object.)<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateBuffer.html">clCreateBuffer</a>.</span></p>
</li>
</ul>
</div>
<div id="create_buffer_region" class="ulist">
<ul>
<li>
<p><em>buffer</em> = <strong>create_buffer_region</strong>(<a href="#buffer"><em>buffer</em></a>, <a href="#memflags"><em>memflags</em></a>, <em>origin</em>, <em>size</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateSubBuffer.html">clCreateSubBuffer</a>.</span></p>
</li>
</ul>
</div>
<div id="retain_buffer" class="ulist">
<ul>
<li>
<p><strong>retain_buffer</strong>(<em>buffer</em>)<br>
<strong>release_buffer</strong>(<em>buffer</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clRetainBuffer.html">clRetainBuffer</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clReleaseBuffer.html">clReleaseBuffer</a>.</span></p>
</li>
</ul>
</div>
<div id="get_mem_object_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_mem_object_info</strong>(<em>memobject</em>, <a href="#meminfo"><em>meminfo</em></a>)<br>
<span class="small"><em>memobject</em>: <a href="#buffer">buffer</a> or  <a href="#image">image</a> or  <a href="#pipe">pipe</a>.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetMemObjectInfo.html">clGetMemObjectInfo</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="image">image</h3>
<div id="create_image" class="ulist">
<ul>
<li>
<p><em>image</em> = <strong>create_image</strong>(<a href="#context"><em>context</em></a>, <a href="#memflags"><em>memflags</em></a>, <a href="#imageformat"><em>imageformat</em></a>, <a href="#imagedesc"><em>imagedesc</em></a>, [<em>ptr</em>])<br>
<em>image</em> = <strong>create_image</strong>(<a href="#context"><em>context</em></a>, <a href="#memflags"><em>memflags</em></a>, <a href="#imageformat"><em>imageformat</em></a>, <a href="#imagedesc"><em>imagedesc</em></a>, <em>data</em>)<br>
<span class="small"><em>ptr</em>: lightuserdata (<em>void*</em> to valid host memory),<br>
<em>data</em>: binary string.<br>
The <em>ptr</em> and <em>data</em> parameters follow the same rules as for the <a href="#create_buffer">cl.create_buffer</a>(&nbsp;) function.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateImage.html">clCreateImage</a>.</span></p>
</li>
</ul>
</div>
<div id="retain_image" class="ulist">
<ul>
<li>
<p><strong>retain_image</strong>(<em>image</em>)<br>
<strong>release_image</strong>(<em>image</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clRetainImage.html">clRetainImage</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clReleaseImage.html">clReleaseImage</a>.</span></p>
</li>
</ul>
</div>
<div id="get_supported_image_formats" class="ulist">
<ul>
<li>
<p>{<a href="#imageformat"><em>imageformat</em></a>} = <strong>get_supported_image_formats</strong>(<a href="#context"><em>context</em></a>, <a href="#memflags"><em>memflags</em></a>, <a href="#memobjecttype"><em>memobjecttype</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetSupportedImageFormats.html">clGetSupportedImageFormats</a>.</span></p>
</li>
</ul>
</div>
<div id="get_image_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_image_info</strong>(<em>image</em>, <a href="#imageinfo"><em>imageinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetImageInfo.html">clGetImageInfo</a>.</span></p>
</li>
<li>
<p><a href="#get_mem_object_info"><strong>get_mem_object_info</strong></a>(&nbsp;)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="pipe">pipe</h3>
<div id="create_pipe" class="ulist">
<ul>
<li>
<p><em>pipe</em> = <strong>create_pipe</strong>(<a href="#context"><em>context</em></a>, <a href="#memflags"><em>memflags</em></a>, <em>packetsize</em>, <em>maxpackets</em>, [<a href="#pipeproperties"><em>pipeproperties</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreatePipe.html">clCreatePipe</a>.</span></p>
</li>
</ul>
</div>
<div id="retain_pipe" class="ulist">
<ul>
<li>
<p><strong>retain_pipe</strong>(<em>pipe</em>)<br>
<strong>release_pipe</strong>(<em>pipe</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clRetainPipe.html">clRetainPipe</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clReleasePipe.html">clReleasePipe</a>.</span></p>
</li>
</ul>
</div>
<div id="get_pipe_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_pipe_info</strong>(<em>pipe</em>, <a href="#pipeinfo"><em>pipeinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetPipeInfo.html">clGetPipeInfo</a>.</span></p>
</li>
<li>
<p><a href="#get_mem_object_info"><strong>get_mem_object_info</strong></a>(&nbsp;)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="gl_objects">GL objects</h3>
<div id="create_from_gl_buffer" class="ulist">
<ul>
<li>
<p><a href="#buffer"><em>buffer</em></a> = <strong>create_from_gl_buffer</strong>(<a href="#context"><em>context</em></a>, <a href="#memflags"><em>memflags</em></a>, <em>glbuffer</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateFromGLBuffer.html">clCreateFromGLBuffer</a>.</span></p>
</li>
</ul>
</div>
<div id="create_from_gl_texture" class="ulist">
<ul>
<li>
<p><a href="#image"><em>image</em></a> = <strong>create_from_gl_texture</strong>(<a href="#context"><em>context</em></a>, <a href="#memflags"><em>memflags</em></a>, <a href="#gltexturetarget"><em>gltexturetarget</em></a>, <em>miplevel</em>, <em>texture</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateFromGLTexture.html">clCreateFromGLTexture</a>.</span></p>
</li>
</ul>
</div>
<div id="create_from_gl_renderbuffer" class="ulist">
<ul>
<li>
<p><a href="#image"><em>image</em></a> = <strong>create_from_gl_renderbuffer</strong>(<a href="#context"><em>context</em></a>, <a href="#memflags"><em>memflags</em></a>, <em>renderbuffer</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateFromGLRenderBuffer.html">clCreateFromGLRenderBuffer</a>.</span></p>
</li>
</ul>
</div>
<div id="get_gl_object_info" class="ulist">
<ul>
<li>
<p><a href="#globjecttype"><em>globjecttype</em></a> = <strong>get_gl_object_type</strong>(<a href="#buffer"><em>buffer</em></a>|<a href="#image"><em>image</em></a>)<br>
<em>name</em> = <strong>get_gl_object_name</strong>(<a href="#buffer"><em>buffer</em></a>|<a href="#image"><em>image</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetGLObjectInfo.html">clGetGLObjectInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="get_gl_texture_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_gl_texture_info</strong>(<a href="#buffer"><em>buffer</em></a>|<a href="#image"><em>image</em></a>, <a href="#gltextureinfo"><em>gltextureinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetGLTextureInfo.html">clGetGLTextureInfo</a>.</span></p>
</li>
</ul>
</div>
<div id="get_gl_context_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_gl_context_info</strong>(<a href="#platform"><em>platform</em></a>, <a href="#contextproperties"><em>contextproperties</em></a>, <a href="#glcontextinfo"><em>glcontextinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetGLContextInfoKHR.html">clGetGLContextInfoKHR</a>.</span></p>
</li>
</ul>
</div>
<div id="create_event_from_gl_sync" class="ulist">
<ul>
<li>
<p><a href="#event"><em>event</em></a> = <strong>create_event_from_gl_sync</strong>(<a href="#context"><em>context</em></a>, <em>glsync</em>)<br>
<span class="small"><em>glsync</em>: lightuserdata (<em>GLsync*</em>)<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateEventFromGLsyncKHR.html">clCreateEventFromGLsyncKHR</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="svm">svm</h3>
<div id="svm_alloc" class="ulist">
<ul>
<li>
<p><em>svm</em> = <strong>svm_alloc</strong>(<a href="#context"><em>context</em></a>, <a href="#memflags"><em>memflags</em></a>, <em>size</em>, <em>alignment</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clSVMAlloc.html">clSVMAlloc</a>.</span></p>
</li>
</ul>
</div>
<div id="svm_free" class="ulist">
<ul>
<li>
<p><strong>svm_free</strong>(<em>svm</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clSVMFree.html">clSVMFree</a>.</span></p>
</li>
</ul>
</div>
<div id="svm_methods" class="paragraph">
<p>The following methods are also available for the <em>svm</em> object type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>size</em> = <em>svm</em>:<strong>size</strong>( )</p>
</li>
<li>
<p><em>alignment</em> = <em>svm</em>:<strong>alignment</strong>( )</p>
</li>
<li>
<p><em>ptr</em> = <em>svm</em>:<strong>ptr</strong>( )<br>
<span class="small">Returns a lightuserdata encapsulating a pointer to the beginning of the SVM.</span></p>
</li>
<li>
<p><a href="#memflags"><em>memflags</em></a> = <em>svm</em>:<strong>memflags</strong>( )</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sampler">sampler</h3>
<div id="create_sampler" class="ulist">
<ul>
<li>
<p><em>sampler</em> = <strong>create_sampler</strong>(<a href="#context"><em>context</em></a>, [<a href="#samplerproperties"><em>samplerproperties</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateSamplerWithProperties.html">clCreateSamplerWithProperties</a>.</span></p>
</li>
</ul>
</div>
<div id="retain_sampler" class="ulist">
<ul>
<li>
<p><strong>retain_sampler</strong>(<em>sampler</em>)<br>
<strong>release_sampler</strong>(<em>sampler</em>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clRetainSampler.html">clRetainSampler</a> -
<a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clReleaseSampler.html">clReleaseSampler</a>.</span></p>
</li>
</ul>
</div>
<div id="get_sampler_info" class="ulist">
<ul>
<li>
<p><em>value</em> = <strong>get_sampler_info</strong>(<em>sampler</em>, <a href="#samplerinfo"><em>samplerinfo</em></a>)<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetSamplerInfo.html">clGetSamplerInfo</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="hostmem">hostmem</h3>
<div class="paragraph">
<p>An hostmem object encapsulates (a pointer to) host accessible memory, with methods
to access it from Lua and to retrieve pointers to any of its locations in form of
<a href="http://www.lua.org/manual/5.3/manual.html#lua_pushlightuserdata">lightuserdata</a>.</p>
</div>
<div class="paragraph">
<p>(Note that hostmem objets are specific to MoonCL, i.e. they do not
correspond to OpenCL objects).</p>
</div>
<div class="paragraph">
<p>The memory encapsulated by an hostmem object may be either host memory allocated via
the <a href="#hostmem_malloc">cl.malloc</a>(&nbsp;) or the <a href="#hostmem_aligned_alloc">cl.aligned_alloc</a>(&nbsp;)
functions, or memory obtained by other means
(e.g. mapped memory or shared virtual memory)
and passed to the <a href="#hostmem_hostmem">cl.hostmem</a>(&nbsp;) constructor.</p>
</div>
<div class="paragraph">
<p>Hostmem objects are automatically deleted at exit, but they may also be deleted manually
via the <a href="#hostmem_free">cl.free</a>(&nbsp;) function (or the corresponding method).</p>
</div>
<div class="paragraph">
<p>Hostmem objects come in handy, for example, when creating <a href="#buffer">buffers</a>, to back them
with host memory, and when using <a href="#commands">asynchronous commands</a> to read from,
write to, or map/unmap OpenCL memory objects, i.e. in those operations where a pointer to
a memory area must be passed to or is returned by OpenCL.</p>
</div>
<div id="hostmem_malloc" class="ulist">
<ul>
<li>
<p><em>hostmem</em> = <strong>malloc</strong>(<em>size</em>)<br>
<em>hostmem</em> = <strong>malloc</strong>(<em>data</em>)<br>
<em>hostmem</em> = <strong>malloc</strong>(<a href="#primtype"><em>primtype</em></a>, {<em>value<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>value<sub>N</sub></em>})<br>
<em>hostmem</em> = <strong>malloc</strong>(<a href="#primtype"><em>primtype</em></a>, <em>value<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>value<sub>N</sub></em>)<br>
<span class="small">Allocates host memory and creates an <em>hostmem</em> object to encapsulate it.<br>
<strong>malloc</strong>(<em>size</em>), where <em>size</em> is an integer, allocates <em>size</em> bytes of contiguous memory
and initializes them to 0;<br>
<strong>malloc</strong>(<em>data</em>), where <em>data</em> is a binary string, allocates <em>#data</em> bytes of contiguous
memory and initializes them with the contents of <em>data</em>;<br>
<strong>malloc</strong>(<em>primtype</em>, <em>&#8230;&#8203;</em>) is functionally equivalent to <em>malloc(cl.pack(primtype, &#8230;&#8203;))</em>.</span></p>
</li>
</ul>
</div>
<div id="hostmem_aligned_alloc" class="ulist">
<ul>
<li>
<p><em>hostmem</em> = <strong>aligned_alloc</strong>(<em>alignment</em>, <em>size</em>)<br>
<em>hostmem</em> = <strong>aligned_alloc</strong>(<em>alignment</em>, <em>data</em>)<br>
<em>hostmem</em> = <strong>aligned_alloc</strong>(<em>alignment</em>, <a href="#primtype"><em>primtype</em></a>, {<em>value<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>value<sub>N</sub></em>})<br>
<em>hostmem</em> = <strong>aligned_alloc</strong>(<em>alignment</em>, <a href="#primtype"><em>primtype</em></a>, <em>value<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>value<sub>N</sub></em>)<br>
<span class="small">Same as <a href="#hostmem_malloc">malloc</a>(&nbsp;), with the additional <em>alignment</em> parameter to control
memory address alignment (rfr. <em>aligned_alloc(3)</em>).</span></p>
</li>
</ul>
</div>
<div id="hostmem_hostmem" class="ulist">
<ul>
<li>
<p><em>hostmem</em> = <strong>hostmem</strong>(<em>size</em>, <em>ptr</em>)<br>
<em>hostmem</em> = <strong>hostmem</strong>(<em>data</em>)<br>
<span class="small">Creates a <em>hostmem</em> object encapsulating user provided memory.<br>
Such memory may be provided in form of a lightuserdata (<em>ptr</em>) containing a valid pointer to <em>size</em> bytes of contiguous memory, or as a binary string (<em>data</em>).<br>
In both cases, care must be taken that the memory area remains valid until the <em>hostmem</em> object is
deleted, or at least until it is accessed via its methods.
In the <em>data</em> case, this means ensuring that <em>data</em> is not garbage collected during the hostmem object lifetime.<br>
(Note that <em>malloc(data)</em> and <em>hostmem(data)</em> differ in that the former allocates memory and copies
<em>data</em> in it, while the latter just stores a pointer to <em>data</em>).</span></p>
</li>
</ul>
</div>
<div id="hostmem_free" class="ulist">
<ul>
<li>
<p><strong>free</strong>(<em>hostmem</em>)<br>
hostmem:<strong>free</strong>( )<br>
<span class="small">Deletes the <em>hostmem</em> object. If <em>hostmem</em> was created with
<a href="#hostmem_malloc">cl.malloc</a>(&nbsp;) or <a href="#hostmem_aligned_alloc">cl.aligned_alloc</a>(&nbsp;), this function also releases the encapsulated memory.</span></p>
</li>
</ul>
</div>
<div id="hostmem_ptr" class="ulist">
<ul>
<li>
<p><em>ptr</em>  = hostmem:<strong>ptr</strong>([<em>offset</em>=0], [<em>nbytes</em>=0])<br>
<span class="small">Returns a pointer (lightuserdata) to the location at <em>offset</em> bytes from the beginning of the encapsulated memory.<br>
Raises an error if the requested location is beyond the boundaries of the memory area, or if there are not at least <em>nbytes</em> of memory after it.</span></p>
</li>
</ul>
</div>
<div id="hostmem_size" class="ulist">
<ul>
<li>
<p><em>nbytes</em> = hostmem:<strong>size</strong>([<em>offset</em>=0])<br>
<em>nbytes</em> = hostmem:<strong>size</strong>(<em>ptr</em>)<br>
<span class="small">Returns the number of bytes of memory available after <em>offset</em> bytes from the beginning
of the encapsulated memory area, or after <em>ptr</em> (a lightuserdata obtained with hostmem:<a href="#hostmem_ptr">ptr</a>(&nbsp;)).</span></p>
</li>
</ul>
</div>
<div id="hostmem_read" class="ulist">
<ul>
<li>
<p><em>data</em> = hostmem:<strong>read</strong>([<em>offset</em>], [<em>nbytes</em>])<br>
{<em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em>} = hostmem:<strong>read</strong>([<em>offset</em>], [<em>nbytes</em>], <a href="#primtype"><em>primtype</em></a>)<br>
<span class="small">Reads <em>nbytes</em> of data starting from <em>offset</em>, and returns it as a binary string or as
a table of primitive values.<br>
The <em>offset</em> parameter defaults to 0, and <em>nbytes</em> defaults to the memory size minus <em>offset</em>.<br>
<em>hostmem:read(offset, nbytes, primtype)</em> is functionally equivalent to
<em>cl.unpack(primtype, hostmem:read(offset, nbytes))</em>.</span></p>
</li>
</ul>
</div>
<div id="hostmem_write" class="ulist">
<ul>
<li>
<p>hostmem:<strong>write</strong>(<em>offset</em>, <em>nil</em>, <em>data</em>)<br>
hostmem:<strong>write</strong>(<em>offset</em>, <a href="#primtype"><em>primtype</em></a>, <em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em>)<br>
hostmem:<strong>write</strong>(<em>offset</em>, <a href="#primtype"><em>primtype</em></a>, {<em>value<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>value<sub>N</sub></em>})<br>
<span class="small">Writes to the encapsulated memory area, starting from the byte at <em>offset</em>.<br>
<strong>write</strong>(<em>offset</em>, <em>nil</em>, <em>data</em>) writes the contents of <em>data</em> (a binary string);<br>
<strong>write</strong>(<em>offset</em>, <em>primtype</em>, <em>&#8230;&#8203;</em>) is equivalent to <em>write(offset, nil, cl.pack(primtype, &#8230;&#8203;))</em>.</span></p>
</li>
</ul>
</div>
<div id="hostmem_copy" class="ulist">
<ul>
<li>
<p>hostmem:<strong>copy</strong>(<em>offset</em>, <em>size</em>, <em>srcptr</em>)<br>
hostmem:<strong>copy</strong>(<em>offset</em>, <em>size</em>, <em>srchostmem</em>, <em>srcoffset</em>)<br>
<span class="small">Copies <em>size</em> bytes to the encapsulated memory area, starting from the byte at <em>offset</em>.<br>
<strong>copy</strong>(<em>offset</em>, <em>size</em>, <em>srcptr</em>), copies the <em>size</em> bytes pointed to by <em>srcptr</em> (a lightuserdata).<br>
<strong>copy</strong>(<em>offset</em>, <em>size</em>, <em>srchostmem</em>, <em>srcoffset</em>), copies <em>size</em> bytes from the memory encapsulated
by <em>srchostmem</em> (a hostmem object), starting from the location at <em>srcoffset</em>.</span></p>
</li>
</ul>
</div>
<div id="hostmem_clear" class="ulist">
<ul>
<li>
<p>hostmem:<strong>clear</strong>(<em>offset</em>, <em>nbytes</em>, [<em>val</em>=0])<br>
<span class="small">Clears <em>nbytes</em> of memory starting from <em>offset</em>. If the <em>val</em> parameter is given,
the bytes are set to its value instead of 0 (<em>val</em> may be an integer or a character, i.e.
a string of length 1).</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="commands">Commands</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the bindings to API functions that enqueue commands in <a href="#queue">command queues</a>
for execution on devices.</p>
</div>
<div class="paragraph">
<p>Unless otherwise specified, the following facts apply to any enqueue_xxx(&nbsp;) function described in this section:</p>
</div>
<div id="enqueue_params" class="ulist unstyled">
<ul class="unstyled">
<li>
<p>- the <strong><em>blocking</em></strong> parameter is a boolean indicating if the call must block until the
command has been executed (<em>true</em>), or return immediately after the command has been enqueued (<em>false</em>);</p>
</li>
<li>
<p>- the <strong>{<em>we</em>}</strong> parameter ('wait events') is an optional list of <a href="#event"><em>events</em></a> on which to wait
for before command execution;</p>
</li>
<li>
<p>- the <strong><em>ge</em></strong> parameter ('generate event') is an optional boolean indicating if the function must
generate and return an <a href="#event"><em>event</em></a> identifying the command (<em>ge</em>=<em>true</em>), or if it
must not (<em>ge</em>=<em>false</em> or <em>nil</em>, in which case the returned <em>event</em> is <em>nil</em>);</p>
</li>
<li>
<p>- the <strong><em>{integer}[3]</em></strong> notation denotes an array of up to 3 integers
(missing entries default to 0, e.g. <em>{5}</em> is equivalent to <em>{5, 0, 0}</em>);</p>
</li>
<li>
<p>- the <strong><em>ptr</em></strong> parameter or return value is a
<a href="http://www.lua.org/manual/5.3/manual.html#lua_pushlightuserdata">lightuserdata</a> encapsulating
a valid pointer (<em>void*</em>) to memory;</p>
</li>
<li>
<p>- the semantics and optionality of functions' parameters are the same as for the
corresponding parameters of the underlying <em>clEnqueueXxxx(&nbsp;)</em> functions.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_buffer_commands">buffer commands</h3>
<div id="enqueue_read_buffer" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_read_buffer</strong>(<a href="#queue"><em>queue</em></a>, <a href="#buffer"><em>buffer</em></a>, <a href="#enqueue_params"><em>blocking</em></a>, <em>offset</em>, <em>size</em>, <a href="#enqueue_params"><em>ptr</em></a>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueReadBuffer.html">clEnqueueReadBuffer</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_write_buffer" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_write_buffer</strong>(<a href="#queue"><em>queue</em></a>, <a href="#buffer"><em>buffer</em></a>, <a href="#enqueue_params"><em>blocking</em></a>, <em>offset</em>, <em>size</em>, <a href="#enqueue_params"><em>ptr</em></a>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueWriteBuffer.html">clEnqueueWriteBuffer</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_copy_buffer" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_copy_buffer</strong>(<a href="#queue"><em>queue</em></a>, <a href="#buffer"><em>srcbuffer</em></a>, <a href="#buffer"><em>dstbuffer</em></a>, <em>srcoffset</em>, <em>dstoffset</em>, <em>size</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueCopyBuffer.html">clEnqueueCopyBuffer</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_fill_buffer" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_fill_buffer</strong>(<a href="#queue"><em>queue</em></a>, <a href="#buffer"><em>buffer</em></a>, <em>pattern</em>, <em>offset</em>, <em>size</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>pattern</em>: binary string<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueFillBuffer.html">clEnqueueFillBuffer</a>.</span></p>
</li>
</ul>
</div>
<hr>
<div id="enqueue_read_buffer_rect" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_read_buffer_rect</strong>(<a href="#queue"><em>queue</em></a>, <a href="#buffer"><em>buffer</em></a>, <a href="#enqueue_params"><em>blocking</em></a>, <em>&#8230;&#8203;</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">arg4-6: <em>buffer_origin</em>, <em>host_origin</em>, <em>region</em> : <a href="#enqueue_params">{integer}[3]</a>,<br>
arg7-8: <em>bufferrowpitch</em>, <em>bufferslicepitch</em>: integer,<br>
arg9-10: <em>hostrowpitch</em>, <em>hostslicepitch</em>: integer,<br>
arg11: <a href="#enqueue_params"><em>ptr</em></a>: lightuserdata.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueReadBufferRect.html">clEnqueueReadBufferRect</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_write_buffer_rect" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_write_buffer_rect</strong>(<a href="#queue"><em>queue</em></a>, <a href="#buffer"><em>buffer</em></a>, <a href="#enqueue_params"><em>blocking</em></a>, <em>&#8230;&#8203;</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">arg4-6: <em>bufferorigin</em>, <em>hostorigin</em>, <em>region</em>: <a href="#enqueue_params">{integer}[3]</a>,<br>
arg7-8: <em>bufferrowpitch</em>, <em>bufferslicepitch</em>: integer,<br>
arg9-10: <em>hostrowpitch</em>, <em>hostslicepitch</em>: integer,<br>
arg11: <a href="#enqueue_params"><em>ptr</em></a>: lightuserdata.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueWriteBufferRect.html">clEnqueueWriteBufferRect</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_copy_buffer_rect" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_copy_buffer_rect</strong>(<a href="#queue"><em>queue</em></a>, <a href="#buffer"><em>srcbuffer</em></a>, <a href="#buffer"><em>dstbuffer</em></a>, <em>&#8230;&#8203;</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">arg4-6: <em>srcorigin</em>, <em>dstorigin</em>, <em>region</em> : <a href="#enqueue_params">{integer}[3]</a>,<br>
arg7-8: <em>srcrowpitch</em>, <em>srcslicepitch</em>: integer.<br>
arg9-10: <em>dstrowpitch</em>, <em>dstslicepitch</em>: integer.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueCopyBufferRect.html">clEnqueueCopyBufferRect</a>.</span></p>
</li>
</ul>
</div>
<hr>
<div id="enqueue_map_buffer" class="ulist">
<ul>
<li>
<p><a href="#enqueue_params"><em>ptr</em></a>, <em>event</em> = <strong>enqueue_map_buffer</strong>(<a href="#queue"><em>queue</em></a>, <a href="#buffer"><em>buffer</em></a>, <a href="#enqueue_params"><em>blocking</em></a>, <a href="#mapflags"><em>mapflags</em></a>, <em>offset</em>, <em>size</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>offset</em>, <em>size</em>: integer,<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueMapBuffer.html">clEnqueueMapBuffer</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_unmap_buffer" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_unmap_buffer</strong>(<a href="#queue"><em>queue</em></a>, <a href="#buffer"><em>buffer</em></a>, <a href="#enqueue_params"><em>ptr</em></a>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">The <a href="#enqueue_params"><em>ptr</em></a> lightuserdata must contain a pointer returned by <em>cl.enqueue_map_buffer(&nbsp;)</em>.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueUnmapMemObject.html">clEnqueueUnmapMemObject</a>.</span></p>
</li>
</ul>
</div>
<hr>
<div id="enqueue_migrate_mem_objects" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_migrate_mem_objects</strong>(<a href="#queue"><em>queue</em></a>, <a href="#migrateflags"><em>migrateflags</em></a>, {<em>memobject</em>}, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>memobject</em>: <a href="#buffer">buffer</a> | <a href="#image">image</a> | <a href="#pipe">pipe</a>.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueMigrateMemObjects.html">clEnqueueMigrateMemObjects</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_image_commands">image commands</h3>
<div id="enqueue_read_image" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_read_image</strong>(<a href="#queue"><em>queue</em></a>, <a href="#image"><em>image</em></a>, <a href="#enqueue_params"><em>blocking</em></a>, <em>origin</em>, <em>region</em>, <em>rowpitch</em>, <em>slicepitch</em>, <a href="#enqueue_params"><em>ptr</em></a>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>origin</em>, <em>region</em>: <a href="#enqueue_params">{integer}[3]</a>,<br>
<em>rowpitch</em>, <em>slicepitch</em>: integer,<br>
<a href="#enqueue_params"><em>ptr</em></a>: lightuserdata.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueReadImage.html">clEnqueueReadImage</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_write_image" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_write_image</strong>(<a href="#queue"><em>queue</em></a>, <a href="#image"><em>image</em></a>, <a href="#enqueue_params"><em>blocking</em></a>, <em>origin</em>, <em>region</em>, <em>inrowpitch</em>, <em>inslicepitch</em>, <a href="#enqueue_params"><em>ptr</em></a>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>origin</em>, <em>region</em>: <a href="#enqueue_params">{integer}[3]</a>,<br>
<em>inrowpitch</em>, <em>inslicepitch</em>: integer,<br>
<a href="#enqueue_params"><em>ptr</em></a>: lightuserdata.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueWriteImage.html">clEnqueueWriteImage</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_fill_image" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_fill_image</strong>(<a href="#queue"><em>queue</em></a>, <a href="#image"><em>image</em></a>, <em>fillcolor</em>,  <em>origin</em>, <em>region</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>fillcolor</em>: binary string,<br>
<em>origin</em>, <em>region</em>: <a href="#enqueue_params">{integer}[3]</a>.<br>
The <em>fillcolor</em> binary string may encode either a <em>float</em>, a <em>float[4]</em>, a <em>int[4]</em>, or a <em>uint[4]</em>.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueFillImage.html">clEnqueueFillImage</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_copy_image" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_copy_image</strong>(<a href="#queue"><em>queue</em></a>, <a href="#image"><em>srcimage</em></a>, <a href="#image"><em>dstimage</em></a>, <em>srcorigin</em>, <em>dstorigin</em>, <em>region</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>srcorigin</em>, <em>dstorigin</em>: integer,<br>
<em>region</em>: <a href="#enqueue_params">{integer}[3]</a>.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueCopyImage.html">clEnqueueCopyImage</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_copy_image_to_buffer" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_copy_image_to_buffer</strong>(<a href="#queue"><em>queue</em></a>, <a href="#image"><em>srcimage</em></a>, <a href="#buffer"><em>dstbuffer</em></a>, <em>srcorigin</em>, <em>region</em>, <em>dstoffset</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>srcorigin</em>, <em>region</em>: <a href="#enqueue_params">{integer}[3]</a>,<br>
<em>dstoffset</em>: integer.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueCopyImageToBuffer.html">clEnqueueCopyImageToBuffer</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_copy_buffer_to_image" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_copy_buffer_to_image</strong>(<a href="#queue"><em>queue</em></a>, <a href="#buffer"><em>srcbuffer</em></a>, <a href="#image"><em>dstimage</em></a>, <em>srcoffset</em>, <em>dstorigin</em>, <em>region</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>srcoffset</em>: integer.<br>
<em>dstorigin</em>, <em>region</em>: <a href="#enqueue_params">{integer}[3]</a>,<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueCopyBufferToImage.html">clEnqueueCopyBufferToImage</a>.</span></p>
</li>
</ul>
</div>
<hr>
<div id="enqueue_map_image" class="ulist">
<ul>
<li>
<p><a href="#enqueue_params"><em>ptr</em></a>, <em>rowpitch</em>, <em>slicepitch</em>, <em>event</em> = <strong>enqueue_map_image</strong>(<a href="#queue"><em>queue</em></a>, <a href="#image"><em>image</em></a>, <a href="#enqueue_params"><em>blocking</em></a>, <a href="#mapflags"><em>mapflags</em></a>, <em>origin</em>, <em>region</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>origin</em>, <em>region</em>: <a href="#enqueue_params">{integer}[3]</a>,<br>
Return values:<br>
<a href="#enqueue_params"><em>ptr</em></a>: lightuserdata,<br>
<em>rowpitch</em>, <em>slicepitch</em>: integer.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueMapImage.html">clEnqueueMapImage</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_unmap_image" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_unmap_image</strong>(<a href="#queue"><em>queue</em></a>, <a href="#image"><em>image</em></a>, <a href="#enqueue_params"><em>ptr</em></a>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">The <a href="#enqueue_params"><em>ptr</em></a> lightuserdata must contain a pointer returned by <em>cl.enqueue_map_image(&nbsp;)</em>.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueUnmapMemObject.html">clEnqueueUnmapMemObject</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_gl_objects_commands">GL objects commands</h3>
<div id="enqueue_acquire_gl_objects" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_acquire_gl_objects</strong>(<a href="#queue"><em>queue</em></a>, {<a href="#gl_objects"><em>buffer</em></a>|<a href="#gl_objects"><em>image</em></a>}, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueAcquireGLObjects.html">clEnqueueAcquireGLObjects</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_release_gl_objects" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_release_gl_objects</strong>(<a href="#queue"><em>queue</em></a>, {<a href="#gl_objects"><em>buffer</em></a>|<a href="#gl_objects"><em>image</em></a>}, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueReleaseGLObjects.html">clEnqueueReleaseGLObjects</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_svm_commands">svm commands</h3>
<div id="enqueue_svm_free" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_svm_free</strong>(<a href="#queue"><em>queue</em></a>, {<a href="#svm"><em>svm</em></a>}, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueSVMFree.html">clEnqueueSVMFree</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_svm_memcpy" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_svm_memcpy</strong>(<a href="#queue"><em>queue</em></a>, <a href="#enqueue_params"><em>blocking</em></a>, <a href="#enqueue_params"><em>dstptr</em></a>, <a href="#enqueue_params"><em>srcptr</em></a>, <em>size</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueSVMMemcpy.html">clEnqueueSVMMemcpy</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_svm_mem_fill" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_svm_mem_fill</strong>(<a href="#queue"><em>queue</em></a>, <a href="#enqueue_params"><em>ptr</em></a>, <em>pattern</em>, <em>size</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>pattern</em>: binary string<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueSVMMemFill.html">clEnqueueSVMMemFill</a>.</span></p>
</li>
</ul>
</div>
<hr>
<div id="enqueue_svm_map" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_svm_map</strong>(<a href="#queue"><em>queue</em></a>, <a href="#enqueue_params"><em>blocking</em></a>, <a href="#mapflags"><em>mapflags</em></a>, <a href="#enqueue_params"><em>ptr</em></a>, <em>size</em>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueSVMMap.html">clEnqueueSVMMap</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_svm_unmap" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_svm_unmap</strong>(<a href="#queue"><em>queue</em></a>, <a href="#enqueue_params"><em>ptr</em></a>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueSVMUnmap.html">clEnqueueSVMUnmap</a>.</span></p>
</li>
</ul>
</div>
<hr>
<div id="enqueue_svm_migrate_mem" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_svm_migrate_mem</strong>(<a href="#queue"><em>queue</em></a>, <a href="#migrateflags"><em>migrateflags</em></a>, {<a href="#svm"><em>svm</em></a>}, {<em>offset</em>}, {<em>size</em>}, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueSVMMigrateMem.html">clEnqueueSVMMigrateMem</a>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_kernel_commands">kernel commands</h3>
<div id="enqueue_ndrange_kernel" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_ndrange_kernel</strong>(<a href="#queue"><em>queue</em></a>, <a href="#kernel"><em>kernel</em></a>, <em>N</em>, [<em>globoffset</em>], <em>globsize</em>, [<em>locsize</em>], [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small"><em>N</em>: 1, 2 or 3 (work dimension),<br>
<em>globoffset</em>, <em>globsize</em>, <em>locsize</em>: <a href="#enqueue_params">{integer}[3]</a> (of which only the first <em>N</em> are meaningful),<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueNDRangeKernel.html">clEnqueueNDRangeKernel</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_task" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_task</strong>(<a href="#queue"><em>queue</em></a>, <a href="#kernel"><em>kernel</em></a>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Equivalent to <em>cl.enqueue_ndrange_kernel(cq, kernel, 1, {0}, {1}, {1}, {we}, ge)</em>.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_synchronization">synchronization</h3>
<div id="flush" class="ulist">
<ul>
<li>
<p><strong>flush</strong>(<a href="#queue"><em>queue</em></a>)<br>
<span class="small">Blocks until all previously enqueued commands have been submitted.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clFlush.html">clFlush</a>.</span></p>
</li>
</ul>
</div>
<div id="finish" class="ulist">
<ul>
<li>
<p><strong>finish</strong>(<a href="#queue"><em>queue</em></a>)<br>
<span class="small">Blocks until all previously enqueued commands have been completed.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clFinish.html">clFinish</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_marker" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_marker</strong>(<a href="#queue"><em>queue</em></a>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueMarkerWithWaitList.html">clEnqueueMarkerWithWaitList</a>.</span></p>
</li>
</ul>
</div>
<div id="enqueue_barrier" class="ulist">
<ul>
<li>
<p><em>event</em> = <strong>enqueue_barrier</strong>(<a href="#queue"><em>queue</em></a>, [<a href="#enqueue_params">{<em>we</em>}, <em>ge</em></a>])<br>
<span class="small">Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clEnqueueBarrierWithWaitList.html">clEnqueueBarrierWithWaitList</a>.</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="structs">Structs</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a id="contextproperties"></a>
<span class="small"><strong>contextproperties</strong> = {<br>
<em>platform</em>: <a href="#platform">platform</a> (opt.),<br>
<em>interop_user_sync</em>: boolean (opt.),<br>
<em>context_terminate</em>: boolean (opt.),<br>
<em>gl_context</em>: lightuserdata or 0 (opt.),<br>
<em>cgl_sharegroup</em>: lightuserdata or 0 (opt.),<br>
<em>glx_display</em>: lightuserdata or 0 (opt.),<br>
<em>egl_display</em>: lightuserdata or 0 (opt.),<br>
<em>wgl_hdc</em>: lightuserdata or 0 (opt.),<br>
} (rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateContext.html">clCreateContext</a>)</span></p>
</li>
<li>
<p><a id="devicepartitionproperty"></a>
<span class="small"><strong>devicepartitionproperty</strong> = {<br>
-- <em>Note: the following fields are mutually exclusive:</em><br>
<em>equally</em>: integer,<br>
<em>by_affinity_domain</em>: <a href="#affinitydomainflags">affinitydomainflags</a>,<br>
<em>by_counts</em>: {integer},<br>
} (rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateSubDevices.html">clCreateSubDevices</a>)</span></p>
</li>
<li>
<p><a id="devicesupportedpartitionproperty"></a>
<span class="small"><strong>devicesupportedpartitionproperty</strong> = {<br>
<em>equally</em>: boolean,<br>
<em>by_affinity_domain</em>: boolean,<br>
<em>by_counts</em>: boolean,<br>
} (rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetDeviceInfo.html">clGetDeviceInfo</a>)</span></p>
</li>
<li>
<p><a id="imagedesc"></a>
<span class="small"><strong>imagedesc</strong> = {<br>
<em>type</em>: <a href="#memobjecttype">memobjecttype</a>,<br>
<em>width</em>: integer (defaults to 1),<br>
<em>height</em>: integer (defaults to 1),<br>
<em>depth</em>: integer (defaults to 1),<br>
<em>array_size</em>: integer (defaults to 1),<br>
<em>row_pich</em>: integer (defaults to 0),<br>
<em>slice_pitch</em>: integer (defaults to 0),<br>
<em>num_mip_levels</em>: integer (default to 0),<br>
<em>num_samples</em>: integer (default to 0),<br>
<em>buffer</em>: <a href="#buffer">buffer</a> (opt.), <br>
<em>image</em>: <a href="#image">image</a> (opt., ignored if <em>buffer</em> is present),<br>
} (rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/cl_image_desc.html">cl_image_desc</a>)</span></p>
</li>
<li>
<p><a id="imageformat"></a>
<span class="small"><strong>imageformat</strong> = {<br>
<em>channel_order</em>: <a href="#channelorder">channelorder</a>,<br>
<em>channel_type</em>: <a href="#channeltype">channeltype</a>,<br>
} (rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/cl_image_format.html">cl_image_format</a>)</span></p>
</li>
<li>
<p><a id="pipeproperties"></a>
<span class="small"><strong>pipeproperties</strong> = {<br>
<em>-- reserved for future use</em><br>
}</span></p>
</li>
<li>
<p><a id="queueproperties"></a>
<span class="small"><strong>queueproperties</strong> = {<br>
<em>properties</em>: <a href="#queueflags">queueflags</a> (opt.),<br>
<em>size</em>: integer (opt.),<br>
<em>queue_priority</em>: <a href="#queuepriority">queuepriority</a> (opt.),<br>
<em>queue_throttle</em>: <a href="#queuethrottle">queuethrottle</a> (opt.),<br>
} (rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateCommandQueueWithProperties.html">clCreateCommandQueueWithProperties</a>)</span></p>
</li>
<li>
<p><a id="samplerproperties"></a>
<span class="small"><strong>samplerproperties</strong> = {<br>
<em>normalized_coords</em>: boolean,<br>
<em>addressing_mode</em>: <a href="#addressingmode">addressingmode</a>,<br>
<em>filter_mode</em>: <a href="#filtermode">filtermode</a>,<br>
} (rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateSamplerWithProperties.html">clCreateSamplerWithProperties</a>)</span></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enums">Enums</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenCL enums are mapped in MoonCL to sets of string literals (as is customary in Lua).
Admitted literals are available in the <strong>cl</strong> table (e.g. <strong>cl.PLATFORM_XXX</strong> for CL_PLATFORM_XXX),
and can also be inferred from the corresponding C enum names. For example, given the
cl.PLATFORM_XXX hint for the <a href="#platfominfo">platform</a> enum type, the literals it admits
are obtained by lowercasing the XXX part of the name and replacing any underscore with a space.</p>
</div>
<div class="paragraph">
<p>The <a href="#enums_snippet">example</a> contained in the code snippets section should hopefully be clear enough.</p>
</div>
<div class="paragraph">
<p>If needed, the following function can be used to obtain the list of literals admitted by
a particular enum type.</p>
</div>
<div id="cl.enum" class="ulist">
<ul>
<li>
<p>{<em>literal</em>} = <strong>cl.enum</strong>(<em>enumtype</em>)<br>
<span class="small">Returns a table listing the literals admitted by <em>enumtype</em> (given as a string, e.g.
'<em>blendop</em>', '<em>format</em>', etc).</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below is the list of the enum types, each with its hint, the list of string values it
admits (if not too long), and a reference to the original OpenCL enum type where to look
for semantic and usage information.</p>
</div>
<div class="paragraph">
<p>For enum types denoting object info, the type of the info value is also listed.</p>
</div>
<div id="addressingmode" class="paragraph">
<p><span class="small"><strong>addressingmode</strong>: cl.ADDRESS_XXX (<em>cl_addressing_mode</em>)<br>
Values: '<em>none</em>', '<em>clamp to edge</em>', '<em>clamp</em>', '<em>repeat</em>', '<em>mirrored repeat</em>'.</span></p>
</div>
<div id="argaccessqualifier" class="paragraph">
<p><span class="small"><strong>argaccessqualifier</strong>: cl.KERNEL_ARG_ACCESS_XXX (<em>cl_kernel_arg_access_qualifier</em>)<br>
Values: '<em>read only</em>', '<em>write only</em>', '<em>read write</em>', '<em>none</em>'.</span></p>
</div>
<div id="argaddressqualifier" class="paragraph">
<p><span class="small"><strong>argaddressqualifier</strong>: cl.KERNEL_ARG_ADDRESS_XXX (<em>cl_kernel_arg_address_qualifier</em>)<br>
Values: '<em>global</em>', '<em>local</em>', '<em>constant</em>', '<em>private</em>'.</span></p>
</div>
<div id="buffercreatetype" class="paragraph">
<p><span class="small"><strong>buffercreatetype</strong>: cl.BUFFER_CREATE_TYPE_XXX (<em>cl_buffer_create_type</em>)<br>
Values: '<em>region</em>'.</span></p>
</div>
<div id="buildstatus" class="paragraph">
<p><span class="small"><strong>buildstatus</strong>: cl.BUILD_XXX (<em>cl_build_status</em>)<br>
Values: '<em>success</em>', '<em>none</em>', '<em>error</em>', '<em>in progress</em>'.</span></p>
</div>
<div id="channelorder" class="paragraph">
<p><span class="small"><strong>channelorder</strong>: cl.XXX (<em>cl_channel_order</em>)<br>
Values: '<em>r</em>', '<em>a</em>', '<em>rg</em>', '<em>ra</em>', '<em>rgb</em>', '<em>rgba</em>', '<em>bgra</em>', '<em>argb</em>', '<em>intensity</em>', '<em>luminance</em>', '<em>rx</em>', '<em>rgx</em>', '<em>rgbx</em>', '<em>depth</em>', '<em>depth stencil</em>', '<em>srgb</em>', '<em>srgbx</em>', '<em>srgba</em>', '<em>sbgra</em>', '<em>abgr</em>'.</span></p>
</div>
<div id="channeltype" class="paragraph">
<p><span class="small"><strong>channeltype</strong>: cl.XXX (<em>cl_channel_type</em>)<br>
Values: '<em>snorm int8</em>', '<em>snorm int16</em>', '<em>unorm int8</em>', '<em>unorm int16</em>', '<em>unorm short 565</em>', '<em>unorm short 555</em>', '<em>unorm int 101010</em>', '<em>signed int8</em>', '<em>signed int16</em>', '<em>signed int32</em>', '<em>unsigned int8</em>', '<em>unsigned int16</em>', '<em>unsigned int32</em>', '<em>half float</em>', '<em>float</em>', '<em>unorm int24</em>', '<em>unorm int 101010 2</em>'.</span></p>
</div>
<div id="commandqueueinfo" class="paragraph">
<p><span class="small"><strong>commandqueueinfo</strong>: cl.QUEUE_XXX (<em>cl_command_queue_info</em>)<br>
'<em>reference count</em>': integer<br>
'<em>size</em>': integer<br>
'<em>properties</em>': <a href="#queueflags">queueflags</a><br>
'<em>context</em>': <a href="#context">context</a><br>
'<em>device</em>': <a href="#device">device</a><br>
'<em>device default</em>': <a href="#queue">queue</a><br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetCommandQueueInfo.html">clGetCommandQueueInfo</a>.</span></p>
</div>
<div id="commandtype" class="paragraph">
<p><span class="small"><strong>commandtype</strong>: cl.COMMAND_XXX (<em>cl_command_type</em>)<br>
Values: '<em>ndrange kernel</em>', '<em>task</em>', '<em>native kernel</em>', '<em>read buffer</em>', '<em>write buffer</em>', '<em>copy buffer</em>', '<em>read image</em>', '<em>write image</em>', '<em>copy image</em>', '<em>copy image to buffer</em>', '<em>copy buffer to image</em>', '<em>map buffer</em>', '<em>map image</em>', '<em>unmap mem object</em>', '<em>marker</em>', '<em>acquire gl objects</em>', '<em>release gl objects</em>', '<em>read buffer rect</em>', '<em>write buffer rect</em>', '<em>copy buffer rect</em>', '<em>user</em>', '<em>barrier</em>', '<em>migrate mem objects</em>', '<em>fill buffer</em>', '<em>fill image</em>', '<em>svm free</em>', '<em>svm memcpy</em>', '<em>svm memfill</em>', '<em>svm map</em>', '<em>svm unmap</em>', '<em>gl fence sync object</em>'.</span></p>
</div>
<div id="contextinfo" class="paragraph">
<p><span class="small"><strong>contextinfo</strong>: cl.CONTEXT_XXX (<em>cl_context_info</em>)<br>
'<em>reference count</em>': integer<br>
'<em>num devices</em>': integer<br>
'<em>devices</em>': {<a href="#device">device</a>}<br>
'<em>properties</em>': <a href="#contextproperties">contextproperties</a><br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetContextInfo.html">clGetContextInfo</a>.</span></p>
</div>
<div id="deviceinfo" class="paragraph">
<p><span class="small"><strong>deviceinfo</strong>: cl.DEVICE_XXX (<em>cl_device_info</em>)<br>
'<em>type</em>': <a href="#devicetypeflags">devicetypeflags</a><br>
'<em>vendor id</em>': integer<br>
'<em>max compute units</em>': integer<br>
'<em>max work item dimensions</em>': integer<br>
'<em>max work item sizes</em>': {integer}<br>
'<em>max work group size</em>': integer<br>
'<em>preferred vector width char</em>': integer<br>
'<em>preferred vector width short</em>': integer<br>
'<em>preferred vector width int</em>': integer<br>
'<em>preferred vector width long</em>': integer<br>
'<em>preferred vector width float</em>': integer<br>
'<em>preferred vector width double</em>': integer<br>
'<em>preferred vector width half</em>': integer<br>
'<em>native vector width char</em>': integer<br>
'<em>native vector width short</em>': integer<br>
'<em>native vector width int</em>': integer<br>
'<em>native vector width long</em>': integer<br>
'<em>native vector width float</em>': integer<br>
'<em>native vector width double</em>': integer<br>
'<em>native vector width half</em>': integer<br>
'<em>max clock frequency</em>': integer<br>
'<em>address bits</em>': integer<br>
'<em>max mem alloc size</em>': integer<br>
'<em>image support</em>': boolean<br>
'<em>max read image args</em>': integer<br>
'<em>max write image args</em>': integer<br>
'<em>max read write image args</em>': integer<br>
'<em>image2d max width</em>': integer<br>
'<em>image2d max height</em>': integer<br>
'<em>image3d max width</em>': integer<br>
'<em>image3d max height</em>': integer<br>
'<em>image3d max depth</em>': integer<br>
'<em>image max buffer size</em>': integer<br>
'<em>image max array size</em>': integer<br>
'<em>max samplers</em>': integer<br>
'<em>image pitch alignment</em>': integer<br>
'<em>image base address alignment</em>': integer<br>
'<em>max pipe args</em>': integer<br>
'<em>pipe max active reservations</em>': integer<br>
'<em>pipe max packet size</em>': integer<br>
'<em>max parameter size</em>': integer<br>
'<em>mem base addr align</em>': integer<br>
'<em>single fp config</em>': <a href="#fpflags">fpflags</a><br>
'<em>double fp config</em>': <a href="#fpflags">fpflags</a><br>
'<em>half fp config</em>': <a href="#fpflags">fpflags</a><br>
'<em>global mem cache type</em>': <a href="#devicememcachetype">devicememcachetype</a><br>
'<em>global mem cacheline size</em>': integer<br>
'<em>global mem cache size</em>': integer<br>
'<em>global mem size</em>': integer<br>
'<em>max constant buffer size</em>': integer<br>
'<em>max constant args</em>': integer<br>
'<em>max global variable size</em>': integer<br>
'<em>global variable preferred total size</em>': integer<br>
'<em>local mem type</em>': <a href="#devicelocalmemtype">devicelocalmemtype</a><br>
'<em>local mem size</em>': integer<br>
'<em>error correction support</em>': boolean<br>
'<em>profiling timer resolution</em>': integer<br>
'<em>endian little</em>': boolean<br>
'<em>available</em>': boolean<br>
'<em>compiler available</em>': boolean<br>
'<em>linker available</em>': boolean<br>
'<em>execution capabilities</em>': <a href="#execflags">execflags</a><br>
'<em>queue on host properties</em>': <a href="#queueflags">queueflags</a><br>
'<em>queue on device properties</em>': <a href="#queueflags">queueflags</a><br>
'<em>queue on device preferred size</em>': integer<br>
'<em>queue on device max size</em>': integer<br>
'<em>max on device queues</em>': integer<br>
'<em>max on device events</em>': integer<br>
'<em>built in kernels</em>': string<br>
'<em>platform</em>': <a href="#platform">platform</a><br>
'<em>name</em>': string<br>
'<em>vendor</em>': string<br>
'<em>profile</em>': string<br>
'<em>version</em>': string<br>
'<em>opencl c version</em>': string<br>
'<em>extensions</em>': string<br>
'<em>printf buffer size</em>': integer<br>
'<em>preferred interop user sync</em>': boolean<br>
'<em>parent device</em>': <a href="#device">device</a><br>
'<em>partition max sub devices</em>': integer<br>
'<em>partition properties</em>': <a href="#devicesupportedpartitionproperty">devicesupportedpartitionproperty</a><br>
'<em>partition affinity domain</em>': <a href="#affinitydomainflags">affinitydomainflags</a><br>
'<em>partition type</em>': <a href="#devicepartitionproperty">devicepartitionproperty</a><br>
'<em>reference count</em>': integer<br>
'<em>svm capabilities</em>': <a href="#svmflags">svmflags</a><br>
'<em>preferred platform atomic alignment</em>': integer<br>
'<em>preferred global atomic alignment</em>': integer<br>
'<em>preferred local atomic alignment</em>': integer<br>
'<em>min data type align size</em>': integer<br>
'<em>il version</em>': string<br>
'<em>max num sub groups</em>': integer<br>
'<em>sub group independent forward progress</em>': boolean<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetDeviceInfo.html">clGetDeviceInfo</a>.</span></p>
</div>
<div id="devicelocalmemtype" class="paragraph">
<p><span class="small"><strong>devicelocalmemtype</strong>: cl.XXX (<em>cl_device_local_mem_type</em>)<br>
Values: '<em>local</em>', '<em>global</em>'.</span></p>
</div>
<div id="devicememcachetype" class="paragraph">
<p><span class="small"><strong>devicememcachetype</strong>: cl.XXX  (<em>cl_device_mem_cache_type</em>)<br>
Values: '<em>none</em>', '<em>read only cache</em>', '<em>read write cache</em>'.</span></p>
</div>
<div id="eventinfo" class="paragraph">
<p><span class="small"><strong>eventinfo</strong>: cl.EVENT_XXX  (<em>cl_event_info</em>)<br>
'<em>reference count</em>': integer<br>
'<em>command type</em>': <a href="#commandtype">commandtype</a><br>
'<em>command queue</em>': <a href="#queue">queue</a><br>
'<em>context</em>': <a href="#context">context</a><br>
'<em>command execution status</em>': <a href="#executionstatus">executionstatus</a> or an integer code<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetEventInfo.html">clGetEventInfo</a>.</span></p>
</div>
<div id="executionstatus" class="paragraph">
<p><span class="small"><strong>executionstatus</strong>: cl.XXX  (command execution status)<br>
Values: '<em>complete</em>', '<em>running</em>', '<em>submitted</em>', '<em>queued</em>'.</span></p>
</div>
<div id="filtermode" class="paragraph">
<p><span class="small"><strong>filtermode</strong>: cl.FILTER_XXX  (<em>cl_filter_mode</em>)<br>
Values: '<em>nearest</em>', '<em>linear</em>'.</span></p>
</div>
<div id="glcontextinfo" class="paragraph">
<p><span class="small"><strong>glcontextinfo</strong>: cl.GL_CONTEXT_INFO (<em>cl_gl_context_info</em>)<br>
'<em>current device</em>': <a href="#device">device</a><br>
'<em>devices</em>': {<a href="#device">device</a>}<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetGLContextInfoKHR.html">clGetGLContextInfoKHR</a>.</span></p>
</div>
<div id="globjecttype" class="paragraph">
<p><span class="small"><strong>globjecttype</strong>: - (<em>GL_OBJECT_XXX</em>)<br>
Values: '<em>buffer</em>', '<em>texture 2d</em>', '<em>texture 3d</em>', '<em>renderbuffer</em>', '<em>texture 2d array</em>', '<em>texture 1d</em>', '<em>texture 1d array</em>', '<em>texture buffer</em>'.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetGLObjectInfo.html">clGetGLObjectInfo</a>.</span></p>
</div>
<div id="gltextureinfo" class="paragraph">
<p><span class="small"><strong>gltextureinfo</strong>: cl.GL_TEXTURE_INFO (<em>cl_gl_texture_info</em>)<br>
'<em>texture target</em>': <a href="#gltexturetarget">gltexturetarget</a><br>
'<em>mipmap level</em>': integer<br>
'<em>num samples</em>': integer<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetGLTextureInfo.html">clGetGLTextureInfo</a>.</span></p>
</div>
<div id="gltexturetarget" class="paragraph">
<p><span class="small"><strong>gltexturetarget</strong>: - (<em>GL_TEXTURE_XXX</em>)<br>
Values: '<em>1d</em>', '<em>2d</em>', '<em>3d</em>', '<em>1d array</em>', '<em>2d array</em>', '<em>buffer</em>', '<em>cube map</em>', '<em>cube map positive x</em>', '<em>cube map negative x</em>', '<em>cube map positive y</em>', '<em>cube map negative y</em>', '<em>cube map positive z</em>', '<em>cube map negative z</em>', '<em>rectangle</em>', '<em>2d multisample</em>', '<em>2d multisample array</em>'.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateFromGLTexture.html">clCreateFromGLTexture</a>.</span></p>
</div>
<div id="imageinfo" class="paragraph">
<p><span class="small"><strong>imageinfo</strong>: cl.IMAGE_XXX  (<em>cl_image_info</em>)<br>
'<em>format</em>': <a href="#imageformat">imageformat</a><br>
'<em>element size</em>', '<em>array size</em>': integer<br>
'<em>row pitch</em>', '<em>slice pitch</em>': integer<br>
'<em>width</em>', '<em>height</em>', '<em>depth</em>': integer<br>
'<em>num mip levels</em>': integer<br>
'<em>num samples</em>': integer<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetImageInfo.html">clGetImageInfo</a>.</span></p>
</div>
<div id="kernelarginfo" class="paragraph">
<p><span class="small"><strong>kernelarginfo</strong>: cl.KERNEL_ARG_XXX  (<em>cl_kernel_arg_info</em>)<br>
'<em>type name</em>': string<br>
'<em>name</em>: string<br>
'<em>address qualifier</em>': <a href="#argaddressqualifier">argaddressqualifier</a><br>
'<em>access qualifier</em>': <a href="#argaccessqualifier">argaccessqualifier</a><br>
'<em>type qualifier</em>': <a href="#argtypeflags">argtypeflags</a><br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetKernelArgInfo.html">clGetKernelArgInfo</a>.</span></p>
</div>
<div id="kernelexecinfo" class="paragraph">
<p><span class="small"><strong>kernelexecinfo</strong>: cl.KERNEL_EXEC_INFO_XXX  (<em>cl_kernel_exec_info</em>)<br>
'<em>svm fine grain system</em>': boolean<br>
'<em>svm ptrs</em>': {lightuserdata} (containing valid <a href="#svm">svm</a> <em>void*</em> pointers)<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clSetKernelExecInfo.html">clSetKernelExecInfo</a>.</span></p>
</div>
<div id="kernelinfo" class="paragraph">
<p><span class="small"><strong>kernelinfo</strong>: cl.KERNEL_XXX  (<em>cl_kernel_info</em>)<br>
'<em>function name</em>' : string<br>
'<em>attributes</em>' : string<br>
'<em>reference count</em>': integer<br>
'<em>num args</em>': integer<br>
'<em>max num sub groups</em>': integer<br>
'<em>compile num sub groups</em>': integer<br>
'<em>program</em>': <a href="#program">program</a><br>
'<em>context</em>': <a href="#context">context</a><br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetKernelInfo.html">clGetKernelInfo</a>.</span></p>
</div>
<div id="kernelsubgroupinfo" class="paragraph">
<p><span class="small"><strong>kernelsubgroupinfo</strong>: cl.KERNEL_XXX  (<em>cl_kernel_sub_group_info</em>)<br>
(inputvalue &#8594; value)<br>
'<em>max sub group size for ndrange</em>': {integer} &#8594; integer<br>
'<em>sub group count for ndrange</em>': {integer} &#8594; integer<br>
'<em>local size for sub group count</em>': integer &#8594; {integer}<br>
'<em>max num sub groups</em>': <em>nil</em> &#8594; integer<br>
'<em>compile num sub groups</em>': <em>nil</em> &#8594; integer<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetKernelSubGroupInfo.html">clGetKernelSubGroupInfo</a>.</span></p>
</div>
<div id="kernelworkgroupinfo" class="paragraph">
<p><span class="small"><strong>kernelworkgroupinfo</strong>: cl.KERNEL_XXX  (<em>cl_kernel_work_group_info</em>)<br>
'<em>work group size</em>': integer<br>
'<em>preferred work group size multiple</em>': integer<br>
'<em>local mem size</em>': integer<br>
'<em>private mem size</em>': integer<br>
'<em>global work size</em>': {integer}<br>
'<em>compile work group size</em>': {integer}<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetKernelWorkGroupInfo.html">clGetKernelWorkGroupInfo</a>.</span></p>
</div>
<div id="meminfo" class="paragraph">
<p><span class="small"><strong>meminfo</strong>: cl.MEM_XXX  (<em>cl_mem_info</em>)<br>
'<em>type</em>': <a href="#memobjecttype">memobjecttype</a><br>
'<em>reference count</em>': integer<br>
'<em>flags</em>': <a href="#memflags">memflags</a><br>
'<em>size</em>': integer<br>
'<em>offset</em>': integer<br>
'<em>map count</em>': integer<br>
'<em>context</em>': <a href="#context">context</a><br>
'<em>associated memobject</em>':  <a href="#buffer">buffer</a> or  <a href="#image">image</a> or  <a href="#pipe">pipe</a> or <em>nil</em><br>
'<em>uses svm pointer</em>': boolean<br>
'<em>host ptr</em>': lightuserdata (<em>void*</em>) or <em>nil</em><br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetMemObjectInfo.html">clGetMemObjectInfo</a>.</span></p>
</div>
<div id="memobjecttype" class="paragraph">
<p><span class="small"><strong>memobjecttype</strong>: cl.MEM_OBJECT_XXX  (<em>cl_mem_object_type</em>)<br>
Values: '<em>buffer</em>', '<em>image2d</em>', '<em>image3d</em>', '<em>image2d array</em>', '<em>image1d</em>', '<em>image1d array</em>', '<em>image1d buffer</em>', '<em>pipe</em>'.</span></p>
</div>
<div id="pipeinfo" class="paragraph">
<p><span class="small"><strong>pipeinfo</strong>: cl.PIPE_XXX  (<em>cl_pipe_info</em>)<br>
'<em>packet size</em>': integer<br>
'<em>max packets</em>': integer<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetPipeInfo.html">clGetPipeInfo</a>.</span></p>
</div>
<div id="platforminfo" class="paragraph">
<p><span class="small"><strong>platforminfo</strong>: cl.PLATFORM_XXX  (<em>cl_platform_info</em>)<br>
'<em>profile</em>': string<br>
'<em>version</em>': string<br>
'<em>name</em>': string<br>
'<em>vendor</em>': string<br>
'<em>extensions</em>': string<br>
'<em>host timer resolution</em>': integer<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetPlatformInfo.html">clGetPlatformInfo</a>.</span></p>
</div>
<div id="primtype" class="paragraph">
<p><span class="small"><strong>primtype</strong>: OpenCL primitive types (<em>cl_char</em>, <em>cl_int</em>, etc.)<br>
Values: '<em>char</em>', '<em>uchar</em>', '<em>short</em>', '<em>ushort</em>', '<em>int</em>', '<em>uint</em>', '<em>long</em>', '<em>ulong</em>', '<em>half</em>', '<em>float</em>', '<em>double</em>'.</span></p>
</div>
<div id="profilinginfo" class="paragraph">
<p><span class="small"><strong>profilinginfo</strong>: cl.PROFILING_XXX  (<em>cl_profiling_info</em>)<br>
'<em>command queued</em>', '<em>command submit</em>', '<em>command start</em>', '<em>command end</em>', '<em>command complete</em>': integer (denoting time in nanoseconds)<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetEventProfilingInfo.html">clGetEventProfilingInfo</a>.</span></p>
</div>
<div id="programbinarytype" class="paragraph">
<p><span class="small"><strong>programbinarytype</strong>: cl.PROGRAM_BINARY_TYPE_XXX  (<em>cl_program_binary_type</em>)<br>
Values: '<em>none</em>', '<em>compiled object</em>', '<em>library</em>', '<em>executable</em>', '<em>intermediate</em>'.</span></p>
</div>
<div id="programbuildinfo" class="paragraph">
<p><span class="small"><strong>programbuildinfo</strong>: cl.PROGRAM_BUILD_XXX  (<em>cl_program_build_info</em>)<br>
'<em>status</em>': <a href="#buildstatus">buildstatus</a><br>
'<em>binary type</em>': <a href="#programbinarytype">programbinarytype</a><br>
'<em>options</em>': string<br>
'<em>log</em>': string<br>
'<em>global variable total size</em>': integer<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetProgramBuildInfo.html">clGetProgramBuildInfo</a>.</span></p>
</div>
<div id="programinfo" class="paragraph">
<p><span class="small"><strong>programinfo</strong>: cl.PROGRAM_XXX  (<em>cl_program_info</em>)<br>
'<em>reference count</em>': integer<br>
'<em>context</em>': <a href="#context">context</a><br>
'<em>num devices</em>': integer<br>
'<em>num kernels</em>': integer<br>
'<em>devices</em>': {<a href="#device">device</a>}<br>
'<em>kernel names</em>': string<br>
'<em>source</em>': string<br>
'<em>binary sizes</em>': {integer}<br>
'<em>binaries</em>': {string}<br>
'<em>il</em>': binary string<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetProgramInfo.html">clGetProgramInfo</a>.</span></p>
</div>
<div id="queuepriority" class="paragraph">
<p><span class="small"><strong>queuepriority</strong>: cl.QUEUE_PRIORITY_XXX_KHR  (<em>cl_queue_priority_khr</em>)<br>
Values: '<em>high</em>', '<em>medium</em>', '<em>low</em>'.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateCommandQueueWithProperties.html">clCreateCommandQueueWithProperties</a>.</span></p>
</div>
<div id="queuethrottle" class="paragraph">
<p><span class="small"><strong>queuethrottle</strong>: cl.QUEUE_THROTTLE_XXX_KHR  (<em>cl_queue_throttle_khr</em>)<br>
Values: '<em>high</em>', '<em>med</em>', '<em>low</em>'.<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clCreateCommandQueueWithProperties.html">clCreateCommandQueueWithProperties</a>.</span></p>
</div>
<div id="samplerinfo" class="paragraph">
<p><span class="small"><strong>samplerinfo</strong>: cl.SAMPLER_XXX  (<em>cl_sampler_info</em>)<br>
'<em>context</em>': <a href="#context">context</a><br>
'<em>reference count</em>': integer<br>
'<em>normalized coords</em>': boolean<br>
'<em>addressing mode</em>': <a href="#addressingmode">addressingmode</a><br>
'<em>filter mode</em>': <a href="#filtermode">filtermode</a><br>
'<em>mip filter mode</em>': <a href="#filtermode">filtermode</a><br>
'<em>lod min</em>': integer<br>
'<em>lod max</em>': integer<br>
Rfr: <a href="https://www.khronos.org/registry/OpenCL/sdk/2.2/docs/man/html/clGetSamplerInfo.html">clGetSamplerInfo</a>.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="flags">Flags</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Flags in MoonCL functions and structs are always represented as plain integers,
and encoded in the same way as the corresponding flags in the C OpenCL API.</p>
</div>
<div class="paragraph">
<p>The <strong>cl</strong> table contains the CL_XXX values, renamed as <strong>cl.XXX</strong>
(e.g. cl.DEVICE_TYPE_CPU, cl.DEVICE_TYPE_GPU, etc.).</p>
</div>
<div class="paragraph">
<p>For each flags type (see the list below), a utility function is also available to map
an integer code to a list of string literals, each corresponding to an individual bit set
in the code, and viceversa to encode an integer value from the individual bits given
as a list of string literals.
The generic definition of such functions is the following, where <strong>xxxflags</strong> stands for
<strong>devicetypeflags</strong>, <strong>memflags</strong>, etc:</p>
</div>
<div id="xxxflags" class="ulist">
<ul>
<li>
<p><em>code</em> = <strong>xxxflags</strong>(<em>s1</em>, <em>s2</em>, <em>&#8230;&#8203;</em>)<br>
<em>s1</em>, <em>s2</em>, <em>&#8230;&#8203;</em> = <strong>xxxflags</strong>(<em>code</em>)<br>
<span class="small">Maps the integer <em>code</em> to/from the list of string values <em>s1</em>, <em>s2</em>, <em>&#8230;&#8203;</em>.</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See also the <a href="#flags_snippet">example</a> contained in the code snippets section.</p>
</div>
<div id="affinitydomainflags" class="paragraph">
<p><span class="small"><strong>affinitydomainflags</strong>: cl.DEVICE_AFFINITY_DOMAIN_XXX (<em>cl_device_affinity_domain</em>)<br>
Values: '<em>numa</em>', '<em>l4 cache</em>', '<em>l3 cache</em>', '<em>l2 cache</em>', '<em>l1 cache</em>', '<em>next partitionable</em>'.</span></p>
</div>
<div id="argtypeflags" class="paragraph">
<p><span class="small"><strong>argtypeflags</strong>: cl.KERNEL_ARG_TYPE_XXX (<em>cl_kernel_arg_type_qualifier</em>)<br>
Values: '<em>const</em>', '<em>restrict</em>', '<em>volatile</em>', '<em>pipe</em>'.</span></p>
</div>
<div id="devicetypeflags" class="paragraph">
<p><span class="small"><strong>devicetypeflags</strong>: cl.DEVICE_TYPE_XXX (<em>cl_device_type</em>)<br>
Values: '<em>default</em>', '<em>cpu</em>', '<em>gpu</em>', '<em>accelerator</em>', '<em>custom</em>', '<em>all</em>'.</span></p>
</div>
<div id="execflags" class="paragraph">
<p><span class="small"><strong>execflags</strong>: cl.EXEC_XXX (<em>cl_device_exec_capabilities</em>)<br>
Values: '<em>kernel</em>', '<em>native kernel</em>'.</span></p>
</div>
<div id="fpflags" class="paragraph">
<p><span class="small"><strong>fpflags</strong>: cl.FP_XXX (<em>cl_device_fp_config</em>)<br>
Values: '<em>denorm</em>', '<em>inf nan</em>', '<em>round to nearest</em>', '<em>round to zero</em>', '<em>round to inf</em>', '<em>fma</em>', '<em>float</em>', '<em>correctly rounded divide sqrt</em>'.</span></p>
</div>
<div id="mapflags" class="paragraph">
<p><span class="small"><strong>mapflags</strong>: cl.MAP_XXX (<em>cl_map_flags</em>)<br>
Values: '<em>read</em>', '<em>write</em>', '<em>write invalidate region</em>'.</span></p>
</div>
<div id="memflags" class="paragraph">
<p><span class="small"><strong>memflags</strong>: cl.MEM_XXX (<em>cl_mem_flags</em>, <em>cl_svm_mem_flags</em>)<br>
Values: '<em>read write</em>', '<em>write only</em>', '<em>read only</em>', '<em>use host ptr</em>', '<em>alloc host ptr</em>', '<em>copy host ptr</em>', '<em>host write only</em>', '<em>host read only</em>', '<em>host no access</em>', '<em>fine grain buffer</em>', '<em>atomics</em>', '<em>kernel read and write</em>'.</span></p>
</div>
<div id="migrateflags" class="paragraph">
<p><span class="small"><strong>migrateflags</strong>: cl.MIGRATE_MEM_OBJECT_XXX (<em>cl_mem_migration_flags</em>)<br>
Values: '<em>host</em>', '<em>content undefined</em>'.</span></p>
</div>
<div id="queueflags" class="paragraph">
<p><span class="small"><strong>queueflags</strong>: cl.QUEUE_XXX (<em>cl_command_queue_properties</em>)<br>
Values: '<em>out of order exec mode enable</em>', '<em>profiling enable</em>', '<em>on device</em>', '<em>on device default</em>'.</span></p>
</div>
<div id="svmflags" class="paragraph">
<p><span class="small"><strong>svmflags</strong>: cl.DEVICE_SVM_XXX (<em>cl_device_svm_capabilities</em>)<br>
Values: '<em>coarse grain buffer</em>', '<em>fine grain buffer</em>', '<em>fine grain system</em>', '<em>atomics</em>'.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="miscellanea">Miscellanea</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="versions">Version handling</h3>
<div class="paragraph">
<p>The <strong>cl</strong> table contains the following version-related information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>cl.<strong>_VERSION</strong>: MoonCL version (a string).</p>
</li>
<li>
<p>cl.<strong>CL_VERSION_n_m</strong>: OpenCL versions supported by MoonCL (e.g. cl.CL_VERSION_1_2 = <em>true</em> if OpenCL v1.2 is supported).<br>
Note that this indicates only that a particular version is supported by MoonCL, while it may or may not be supported by the available devices (use <a href="#get_device_info">get_device_info</a>(&nbsp;) to check it).<br></p>
</li>
<li>
<p>cl.<strong>CL_VERSIONS</strong>: a table listing the supported versions as strings (e.g. { 'CL_VERSION_1_0', 'CL_VERSION_2_0', &#8230;&#8203; }).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="commonmethods">Common methods</h3>
<div class="paragraph">
<p>The following methods are common to MoonCL <a href="#objects">objects</a>.</p>
</div>
<div id="method_raw" class="ulist">
<ul>
<li>
<p><em>handle</em> = object:<strong>raw</strong>( )<br>
<span class="small">Returns the raw OpenCL handle for the given object in a lightuserdata (e.g. <em>platform:raw(&nbsp;)</em>
returns a lightuserdara containing a <em>cl_platform_id</em>).</span></p>
</li>
</ul>
</div>
<div id="method_type" class="ulist">
<ul>
<li>
<p><em>typestring</em> = object:<strong>type</strong>( )<br>
<em>typestring</em> = <strong>cl.type</strong>(<em>object</em>)<br>
<span class="small">object: any object type.<br>
Returns a string denoting the type of the given object (e.g. <em>platform:type(&nbsp;)</em>
returns '<em>platform</em>').<br>
The <strong>cl.type</strong>(&nbsp;) function returns <em>nil</em> if <em>object</em> is not a valid MoonCL object.</span></p>
</li>
</ul>
</div>
<div id="method_parent" class="ulist">
<ul>
<li>
<p><em>parent</em> = object:<strong>parent</strong>( )<br>
<span class="small">object: any object type.<br>
Returns the parent object of the given object, or <em>nil</em> if it has no parent.</span></p>
</li>
</ul>
</div>
<div id="method_platform" class="ulist">
<ul>
<li>
<p><a href="#platform"><em>platform</em></a> = object:<strong>platform</strong>( )<br>
<span class="small">object: <a href="#device">device</a> | <a href="#context">context</a> | <a href="#queue">queue</a>.<br>
Returns the platform the given object belongs to.</span></p>
</li>
</ul>
</div>
<div id="method_device" class="ulist">
<ul>
<li>
<p><a href="#device"><em>device</em></a> = object:<strong>device</strong>( )<br>
<span class="small">object: <a href="#queue">queue</a>.<br>
Returns the device the given object belongs to.</span></p>
</li>
</ul>
</div>
<div id="method_context" class="ulist">
<ul>
<li>
<p><a href="#context"><em>context</em></a> = object:<strong>context</strong>( )<br>
<span class="small">object: <a href="#queue">queue</a> | <a href="#program">program</a> | <a href="#event">event</a> | <a href="#buffer">buffer</a> | <a href="#image">image</a> | <a href="#pipe">pipe</a> | <a href="#sampler">sampler</a> | <a href="#svm">svm</a>.<br>
Returns the context the given object belongs to.</span></p>
</li>
</ul>
</div>
<div id="method_program" class="ulist">
<ul>
<li>
<p><a href="#program"><em>program</em></a> = object:<strong>program</strong>( )<br>
<span class="small">object: <a href="#kernel">kernel</a>.<br>
Returns the program the given object belongs to.</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="datahandling">Data handling</h3>
<div class="paragraph">
<p>This section describes additional utilities that can be used to encode data from Lua
variables to binary strings and viceversa.</p>
</div>
<div id="datahandling_flatten" class="ulist">
<ul>
<li>
<p><em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em> = <strong>flatten</strong>(<em>table</em>)<br>
<span class="small">Flattens out the given <em>table</em> and returns the terminal elements in the order they are found.<br>
Similar to Lua&#8217;s
<a href="http://www.lua.org/manual/5.3/manual.html#pdf-table.unpack">table.unpack</a>(&nbsp;), but it also unpacks
any nested table. Only the array part of the table and of nested tables is considered.</span></p>
</li>
</ul>
</div>
<div id="datahandling_flatten_table" class="ulist">
<ul>
<li>
<p>{<em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em>} = <strong>flatten_table</strong>(<em>table</em>)<br>
<span class="small">Same as <a href="#datahandling_flatten">flatten</a>(&nbsp;), but returns the values in a flat table.
Unlike <a href="#datahandling_flatten">flatten</a>(&nbsp;), this function can be used also with very large tables.</span></p>
</li>
</ul>
</div>
<div id="datahandling_sizeof" class="ulist">
<ul>
<li>
<p><em>size</em> = <strong>sizeof</strong>(<a href="#primtype"><em>primtype</em></a>)<br>
<span class="small">Returns the size in bytes of the given <em>primtype</em>.</span></p>
</li>
</ul>
</div>
<div id="datahandling_pack" class="ulist">
<ul>
<li>
<p><em>data</em> = <strong>pack</strong>(<a href="#primtype"><em>primtype</em></a>, <em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em>)<br>
<em>data</em> = <strong>pack</strong>(<a href="#primtype"><em>primtype</em></a>, <em>table</em>)<br>
<span class="small">Packs the numbers <em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em>, encoding  them according to the given <em>primtype</em>, and returns the resulting binary string.<br>
The values may also be passed in a (possibly nested) table. Only the array part of the table (and of nested tables) is considered.</span></p>
</li>
</ul>
</div>
<div id="datahandling_unpack" class="ulist">
<ul>
<li>
<p>{<em>val<sub>1</sub></em>, <em>&#8230;&#8203;</em>, <em>val<sub>N</sub></em>} = <strong>unpack</strong>(<a href="#primtype"><em>primtype</em></a>, <em>data</em>)<br>
<span class="small">Unpacks the binary string <em>data</em>, interpreting it as a sequence of values of the given <em>primtype</em>,
and returns the extracted values in a flat table.<br>
The length of <em>data</em> must be a multiple of <a href="#datahandling_sizeof">sizeof</a>(<em>primtype</em>).</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="tracing">Tracing utilities</h3>
<div id="trace_objects" class="ulist">
<ul>
<li>
<p><strong>trace_objects</strong>(<em>boolean</em>)<br>
<span class="small">Enable/disable tracing of objects creation and destruction (which by default
is disabled).<br>
If enabled, a printf is generated whenever an object is created or deleted,
indicating the object type and the value of its raw OpenCL handle.</span></p>
</li>
</ul>
</div>
<div id="now" class="ulist">
<ul>
<li>
<p><em>t</em> = <strong>now</strong>(&nbsp;)<br>
<span class="small">Returns the current time in seconds (a Lua number).<br>
This is implemented with monotonic <em>clock_gettime(3)</em>, if available, or
with <em>gettimeofday(3)</em> otherwise.</span></p>
</li>
</ul>
</div>
<div id="since" class="ulist">
<ul>
<li>
<p><em>dt</em> = <strong>since</strong>(<em>t</em>)<br>
<span class="small">Returns the time in seconds (a Lua number) elapsed since the time <em>t</em>,
previously obtained with the <a href="#now">now</a>(&nbsp;) function.</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="snippets">Code snippets</h2>
<div class="sectionbody">
<div id="enums_snippet" class="listingblock">
<div class="title">Dealing with enums</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="lua"> <span class="tok-c1">-- Alternative and equivalent ways to assign values of the &#39;filtermode&#39; enum type</span>
 <span class="tok-c1">-- (whose hint is cl.FILTER_XXX):</span>
 <span class="tok-n">op1</span> <span class="tok-o">=</span> <span class="tok-n">cl</span><span class="tok-p">.</span><span class="tok-n">FILTER_NEAREST</span>
 <span class="tok-n">op2</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;nearest&#39;</span> <span class="tok-c1">-- XXX=NEAREST</span>
 <span class="tok-n">op3</span> <span class="tok-o">=</span> <span class="tok-n">cl</span><span class="tok-p">.</span><span class="tok-n">FILTER_LINEAR</span>
 <span class="tok-n">op4</span> <span class="tok-o">=</span> <span class="tok-s1">&#39;linear&#39;</span> <span class="tok-c1">-- XXX=LINEAR</span>

 <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-n">op1</span><span class="tok-p">)</span> <span class="tok-c1">--&gt; &#39;nearest&#39;</span>
 <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-n">op2</span><span class="tok-p">)</span> <span class="tok-c1">--&gt; &#39;nearest&#39;</span>
 <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-n">op3</span><span class="tok-p">)</span> <span class="tok-c1">--&gt; &#39;linear&#39;</span>
 <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-n">op4</span><span class="tok-p">)</span> <span class="tok-c1">--&gt; &#39;linear&#39;</span>
 <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-n">op1</span> <span class="tok-o">==</span> <span class="tok-s1">&#39;nearest&#39;</span><span class="tok-p">)</span> <span class="tok-c1">--&gt; true</span>
 <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-n">op3</span> <span class="tok-o">==</span> <span class="tok-n">op4</span><span class="tok-p">)</span> <span class="tok-c1">--&gt; true</span>

 <span class="tok-c1">-- List the literals admitted by the &#39;filtermode&#39; enum type:</span>
 <span class="tok-n">ops</span> <span class="tok-o">=</span> <span class="tok-n">cl</span><span class="tok-p">.</span><span class="tok-n">enum</span><span class="tok-p">(</span><span class="tok-s1">&#39;filtermode&#39;</span><span class="tok-p">)</span>
 <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-nb">table.concat</span><span class="tok-p">(</span><span class="tok-n">ops</span><span class="tok-p">,</span> <span class="tok-s1">&#39;, &#39;</span><span class="tok-p">))</span> <span class="tok-c1">--&gt; &#39;nearest&#39;, &#39;linear&#39;</span></code></pre>
</div>
</div>
<div id="flags_snippet" class="listingblock">
<div class="title">Dealing with flags</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="lua"> <span class="tok-c1">-- Two alternative equivalent ways to produce a &#39;devicetypeflags&#39; value:</span>
 <span class="tok-n">code1</span> <span class="tok-o">=</span> <span class="tok-n">cl</span><span class="tok-p">.</span><span class="tok-n">DEVICE_TYPE_CPU</span> <span class="tok-o">|</span> <span class="tok-n">cl</span><span class="tok-p">.</span><span class="tok-n">DEVICE_TYPE_GPU</span>
 <span class="tok-n">code2</span> <span class="tok-o">=</span> <span class="tok-n">cl</span><span class="tok-p">.</span><span class="tok-n">devicetypeflags</span><span class="tok-p">(</span><span class="tok-s1">&#39;cpu&#39;</span><span class="tok-p">,</span> <span class="tok-s1">&#39;gpu&#39;</span><span class="tok-p">)</span>

 <span class="tok-nb">assert</span><span class="tok-p">(</span><span class="tok-n">code1</span> <span class="tok-o">==</span> <span class="tok-n">code2</span><span class="tok-p">)</span> <span class="tok-c1">-- true</span>
 <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-n">code1</span><span class="tok-p">)</span> <span class="tok-c1">--&gt; 3</span>
 <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-n">cl</span><span class="tok-p">.</span><span class="tok-n">devicetypeflags</span><span class="tok-p">(</span><span class="tok-n">code1</span><span class="tok-p">))</span> <span class="tok-c1">--&gt; cpu gpu</span>
 <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-n">cl</span><span class="tok-p">.</span><span class="tok-n">devicetypeflags</span><span class="tok-p">(</span><span class="tok-n">code2</span><span class="tok-p">))</span> <span class="tok-c1">--&gt; cpu gpu</span>

 <span class="tok-kr">if</span> <span class="tok-p">(</span><span class="tok-n">code1</span> <span class="tok-o">&amp;</span> <span class="tok-n">cl</span><span class="tok-p">.</span><span class="tok-n">DEVICE_TYPE_GPU</span><span class="tok-p">)</span> <span class="tok-o">~=</span> <span class="tok-mi">0</span> <span class="tok-kr">then</span> <span class="tok-c1">-- NB: 0 is not false in Lua</span>
   <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;&#39;gpu&#39; bit is set&quot;</span><span class="tok-p">)</span>
 <span class="tok-kr">else</span>
   <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;&#39;gpu&#39; bit is not set&quot;</span><span class="tok-p">)</span>
 <span class="tok-kr">end</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. This manual is written in <a href="http://www.methods.co.nz/asciidoc/">AsciiDoc</a>, rendered with <a href="http://asciidoctor.org/">AsciiDoctor</a> and a CSS from the <a href="https://github.com/asciidoctor/asciidoctor-stylesheet-factory">AsciiDoctor Stylesheet Factory</a>.
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. Objects are anchored to the Lua registry at their creation, so even if the script does not have references to an object, a reference always exists on the registry and this prevents the GC to collect it.
</div>
<div class="footnote" id="_footnote_3">
<a href="#_footnoteref_3">3</a>. It is good practice to not leave invalid references to objects around, because they prevent the GC to collect the memory associated with the userdata.
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.1<br>
Last updated 2017-10-18 08:14:34 CEST
</div>
</div>
</body>
</html>